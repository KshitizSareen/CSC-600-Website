{"code":"(this.webpackJsonplambdavibe=this.webpackJsonplambdavibe||[]).push([[0],{115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){\"use strict\";n.r(t);var a=n(0),i=n.n(a),s=n(58),r=n.n(s),c=(n(3),n(6),n(7)),o=n(30),l=n(9),u=n(11),d=n(119),b=n(2),h=n(10),m=function e(t,n){Object(b.a)(this,e),this.type=void 0,this.args=void 0,this.type=t,this.args=Object(h.d)(n)};function j(e,t){var n=t.type,a=t.args;console.debug(\"\".concat(n));var i=function(){switch(n){case\"SET_SOCKET\":var t=e.get(\"socket\");return t&&t.close(),e.set(\"socket\",a.get(\"socket\"));case\"DELETE_SOCKET\":return e.delete(\"socket\");case\"SET_SONGS\":var i=a.get(\"songs\");return e.set(\"songs\",i);case\"PLAY_SONG\":var s=e.get(\"songs\").find((function(e){return e.get(\"id\")===a.get(\"id\")})).get(\"notes\");return e.set(\"notes\",s);case\"STOP_SONG\":return e.delete(\"notes\");case\"SET_LOCATION\":var r,c=a.getIn([\"location\",\"pathname\"],\"\"),o=a.getIn([\"location\",\"search\"],\"\"),l=c.substring(1),u=null!==(r=new URLSearchParams(o.substring(1)).get(\"visualizer\"))&&void 0!==r?r:\"\",d=e.get(\"instruments\"),b=e.get(\"visualizers\"),m=d.find((function(e){return e.name===l})),j=b.find((function(e){return e.name===u}));return e.set(\"instrument\",m).set(\"visualizer\",j);case\"SHOW_SONG_DETAILS\":var v=a.get(\"SongDetail\");return e.set(\"SongDetail\",v);case\"SET_ALBUMS\":var f=a.get(\"albums\",Object(h.a)());return e.set(\"Albums\",f);case\"SET_ALBUM_SONGS\":var g=a.get(\"Albums\",Object(h.a)()),O=a.get(\"index\",Number);return e.set(\"FilteredSongs\",g.get(O).get(\"songs\"));case\"SET_GENRES\":var p=a.get(\"genres\",Object(h.a)());return e.set(\"Genres\",p);case\"SET_GENRE_SONGS\":var x=a.get(\"Genres\",Object(h.a)()),w=a.get(\"index\",Number);return e.set(\"FilteredSongs\",x.get(w).get(\"songs\"));case\"SEARCH_SONGS\":var S=a.get(\"search\",String()),N=a.get(\"songs\",Object(h.a)()),k=[];return N.forEach((function(e){e.get(\"songTitle\").toLowerCase().trim().includes(S.toLowerCase().trim())&&k.push(e)})),e.set(\"FilteredSongs\",k);default:return console.error(\"type unknown: \".concat(n,\"\\n\"),a.toJS()),e}}();return console.debug(i.update(\"socket\",(function(e){return e?\"[socket]\":e})).toJS()),i}var v=n(5);function f(e){var t=e.name;return Object(v.jsx)(\"div\",{className:\"w-100 h3 bb b--light-gray flex justify-between items-center ph4\",children:Object(v.jsx)(\"div\",{children:t})})}var g=function(e){var t=e.instrument,n=e.state,i=e.dispatch,s=t.component,r=Object(a.useState)(new u.c({oscillator:{type:\"sine\"}}).toDestination()),o=Object(c.a)(r,2),l=o[0],d=o[1],b=n.get(\"notes\");return Object(a.useEffect)((function(){if(b&&l){var e=b.split(\" \"),t=e.map((function(e,t){return{idx:t,time:\"+\".concat(t/4),note:e,velocity:1}}));return new u.b((function(t,n){l.triggerAttackRelease(n.note,\"4n\",t,n.velocity),n.idx===e.length-1&&i(new m(\"STOP_SONG\"))}),t).start(0),u.d.start(),function(){u.d.cancel()}}return function(){}}),[b,l,i]),Object(v.jsxs)(\"div\",{children:[Object(v.jsx)(f,{name:t.name}),Object(v.jsx)(\"div\",{className:\"bg-white absolute right-0 left-0\",style:{top:\"4rem\"},children:Object(v.jsx)(s,{name:t.name,state:n,dispatch:i,synth:l,setSynth:d})})]})},O=n(27),p=n.n(O),x=n(118),w=function(e){var t=e.title,n=e.children;return Object(v.jsxs)(\"div\",{className:\"flex flex-column h-25 bb b--light-gray pa3\",children:[Object(v.jsxs)(\"div\",{className:\"fw7 mb2\",children:[t,\" \"]}),Object(v.jsx)(\"div\",{className:\"flex-auto overflow-scroll\",children:n})]})};function S(e){var t=e.to,n=e.text,a=e.active,i=e.onClick;return Object(v.jsx)(o.b,{to:t,className:\"no-underline\",children:Object(v.jsxs)(\"div\",{className:p()(\"f6 flex items-center black\",{fw7:a}),onClick:i,children:[a?Object(v.jsx)(x.b,{className:\"mr1\"}):Object(v.jsx)(x.a,{className:\"mr1\"}),Object(v.jsx)(\"div\",{className:\"dim\",children:n})]})})}function N(e){var t,n=e.state,a=n.get(\"instruments\"),i=null===(t=n.get(\"instrument\"))||void 0===t?void 0:t.name,s=Object(l.f)();return Object(v.jsx)(w,{title:\"Instruments\",children:a.map((function(e){return Object(v.jsx)(S,{to:\"/\".concat(e.name).concat(s.search),text:e.name,active:e.name===i,onClick:function(){return console.log(e.name)}},e.name)}))})}function k(e){var t,n=e.state,a=n.get(\"visualizers\"),i=null===(t=n.get(\"visualizer\"))||void 0===t?void 0:t.name,s=Object(l.f)();return Object(v.jsx)(w,{title:\"Visualizers\",children:a.map((function(e){return Object(v.jsx)(S,{to:{pathname:s.pathname,search:\"?visualizer=\".concat(e.name)},text:e.name,active:e.name===i,onClick:function(){return console.log(e.name)}},e.name)}))})}function E(e){var t=e.state,n=e.dispatch;return Object(v.jsxs)(\"div\",{className:\"absolute top-0 left-0 bottom-0 w5 z-1 shadow-1 bg-white flex flex-column\",children:[Object(v.jsx)(\"div\",{className:\"h3 fw7 f5 flex items-center pl3 bb b--light-gray\",children:\"Music Visualizer\"}),Object(v.jsxs)(\"div\",{className:\"flex-auto\",style:{overflow:\"scroll\"},children:[Object(v.jsx)(N,{state:t,dispatch:n}),Object(v.jsx)(k,{state:t,dispatch:n})]})]})}var y=n(60),C=n.n(y),T=function e(t,n){Object(b.a)(this,e),this.name=void 0,this.draw=void 0,this.name=t,this.draw=n};function W(e){var t=e.visualizer,n=t.name,i=t.draw,s=Object(a.useMemo)((function(){return new u.a(\"waveform\",256)}),[]),r=Object(a.useCallback)((function(e){var t=window.innerWidth,n=window.innerHeight/2;e.resizeCanvas(t,n,!1)}),[]);Object(a.useEffect)((function(){return u.e().volume.value=-5,u.e().connect(s),function(){u.e().disconnect(s)}}),[s]);return Object(v.jsxs)(\"div\",{className:\"bg-black absolute bottom-0 right-0 left-0 h-50\",children:[Object(v.jsx)(\"div\",{className:\"z-1 absolute left-0 top-0 pa4 white f5\",children:n}),Object(v.jsx)(C.a,{setup:function(e,t){var a=window.innerWidth,i=window.innerHeight/2;\"3D Waveform\"!==n&&\"3D Shape\"!==n?e.createCanvas(a,i).parent(t):e.createCanvas(a,i,e.WEBGL).parent(t)},draw:function(e){return i(e,s)},windowResized:r})]})}function z(e){var t=e.state,n=e.dispatch,a=t.get(\"instrument\");return Object(v.jsx)(\"div\",{children:a&&Object(v.jsx)(g,{state:t,dispatch:n,instrument:a})})}function _(e){var t=e.state.get(\"visualizer\");return Object(v.jsx)(\"div\",{children:t&&Object(v.jsx)(W,{visualizer:t},t.name)})}function L(e){var t=e.state,n=e.dispatch;return Object(v.jsxs)(\"div\",{className:\"absolute right-0 bottom-0 top-0 flex flex-column\",style:{left:\"16rem\"},children:[Object(v.jsx)(z,{state:t,dispatch:n}),Object(v.jsx)(_,{state:t,dispatch:n})]})}function G(e){e.state,e.dispatch;return Object(v.jsx)(\"div\",{className:\"absolute right-0 bottom-0 top-0 flex flex-column items-center justify-center\",style:{left:\"16rem\"},children:Object(v.jsxs)(\"div\",{className:\"mw6 lh-copy mb4\",children:[Object(v.jsx)(d.a,{}),Object(v.jsx)(\"div\",{className:\"f3 fw7 mb2\",children:\"Welcome to the case study.\"}),Object(v.jsx)(\"div\",{className:\"f4 mb3\",children:\"Select an instrument and a visualizer on the left to serve some fresh beats.\"})]})})}function D(e){var t=e.state,n=e.dispatch,i=Object(l.f)(),s=!t.get(\"instrument\");return console.log(\"INSTRUMENT\",s),Object(a.useEffect)((function(){n(new m(\"SET_LOCATION\",{location:i}))}),[n,i]),Object(v.jsxs)(\"div\",{className:\"fixed top-0 left-0 h-100 w-100 bg-white\",onClick:function(){return u.f()},children:[Object(v.jsx)(E,{state:t,dispatch:n}),s?Object(v.jsx)(G,{state:t,dispatch:n}):Object(v.jsx)(L,{state:t,dispatch:n})]})}function A(e){var t=e.note,n=e.synth,a=e.minor,i=e.index;return Object(v.jsx)(\"div\",{onMouseDown:function(){return null===n||void 0===n?void 0:n.triggerAttack(\"\".concat(t))},onMouseUp:function(){return null===n||void 0===n?void 0:n.triggerRelease(\"+0.25\")},className:p()(\"ba pointer absolute dim\",{\"bg-black black h3\":a,\"black bg-white h4\":!a}),style:{top:0,left:\"\".concat(2*i,\"rem\"),zIndex:a?1:0,width:a?\"1.5rem\":\"2rem\",marginLeft:a?\"0.25rem\":0}})}function M(e){var t=e.title,n=e.onClick,a=e.active;return Object(v.jsx)(\"div\",{onClick:n,className:p()(\"dim pointer ph2 pv1 ba mr2 br1 fw7 bw1\",{\"b--black black\":a,\"gray b--light-gray\":!a}),children:t})}var R=new function e(t,n){Object(b.a)(this,e),this.name=void 0,this.component=void 0,this.name=t,this.component=n}(\"Piano\",(function(e){var t=e.synth,n=e.setSynth,a=Object(h.a)([{note:\"C\",idx:0},{note:\"Db\",idx:.5},{note:\"D\",idx:1},{note:\"Eb\",idx:1.5},{note:\"E\",idx:2},{note:\"F\",idx:3},{note:\"Gb\",idx:3.5},{note:\"G\",idx:4},{note:\"Ab\",idx:4.5},{note:\"A\",idx:5},{note:\"Bb\",idx:5.5},{note:\"B\",idx:6}]),i=Object(h.a)([\"sine\",\"sawtooth\",\"square\",\"triangle\",\"fmsine\",\"fmsawtooth\",\"fmtriangle\",\"amsine\",\"amsawtooth\",\"amtriangle\"]);return Object(v.jsxs)(\"div\",{className:\"pv4\",children:[Object(v.jsx)(\"div\",{className:\"relative dib h4 w-100 ml4\",children:Object(h.c)(2,7).map((function(e){return a.map((function(n){var a=-1!==n.note.indexOf(\"b\"),i=\"\".concat(n.note).concat(e);return Object(v.jsx)(A,{note:i,synth:t,minor:a,octave:e,index:7*(e-2)+n.idx},i)}))}))}),Object(v.jsx)(\"div\",{className:\"pl4 pt4 flex\",children:i.map((function(e){return Object(v.jsx)(M,{title:e,onClick:function(){return t=e,void n((function(e){return e.disconnect(),new u.c({oscillator:{type:t}}).toDestination()}));var t},active:(null===t||void 0===t?void 0:t.oscillator.type)===e},e)}))})]})})),H=new T(\"Waveform\",(function(e,t){var n=window.innerWidth,a=window.innerHeight/2,i=Math.min(n,a);e.background(0,0,0,255),e.strokeWeight(.01*i),e.stroke(255,255,255,255),e.noFill();var s=t.getValue();e.beginShape();for(var r=0;r<s.length;r++){var c=s[r],o=e.map(r,0,s.length-1,0,n),l=a/2+c*a;e.vertex(o,l)}e.endShape()})),I=new T(\"3D Shape\",(function(e,t){var n=window.innerWidth,a=window.innerHeight/2;e.background(\"black\");var i=t.getValue(),s=e.mouseX-a/2,r=e.mouseY-n/2;e.ambientLight(50),e.directionalLight(255,0,0,.25,.25,0),e.pointLight(0,0,255,s,r,250),e.beginShape(),e.rotateZ(.02*e.frameCount),e.rotateX(.02*e.frameCount),e.specularMaterial(250),e.translate(-n/10,0,0);for(var c=0;c<i.length;c++){var o=i[c],l=e.map(c,0,i.length-1,0,o*a)+n,u=a/2+o*n+a;e.push(),e.box(.07*l,.15*u,100),e.pop()}e.endShape()})),F=new T(\"Circle Waveform\",(function(e,t){var n=window.innerWidth,a=window.innerHeight/2,i=Math.min(n,a);e.angleMode(\"degrees\"),e.background(0,0,0,255),e.stroke(255,0,127),e.strokeWeight(.02*i),e.noFill(),e.translate(n/2.5,a/2);var s=t.getValue();e.beginShape();for(var r=0;r<=180;r++){var c=e.floor(e.map(r,0,180,0,s.length-1)),o=(u=e.map(s[c],-1,1,150,300))*e.sin(r),l=u*e.cos(r);e.vertex(o,l)}e.endShape(),e.beginShape();for(r=0;r<=180;r++){var u;c=e.floor(e.map(r,0,180,0,s.length-1)),o=(u=e.map(s[c],-1,1,150,300))*-e.sin(r),l=u*e.cos(r);e.vertex(o,l)}e.endShape()})),V=new T(\"Elliptical Nebular Waveform\",(function(e,t){var n=window.innerWidth,a=window.innerHeight/2;e.background(0,0,0,210),e.stroke(255,0,127),e.strokeWeight(3),e.noFill();var i=t.getValue();e.beginShape(),i.forEach((function(t,s){var r=i[s];e.ellipse(600,200,300+n*r,150+a*r),e.ellipse(600,200,150+a*r,300+n*r)})),e.endShape()})),B=new T(\"3D Waveform\",(function(e,t){var n=window.innerWidth,a=window.innerHeight/2;e.background(250,250,250,255);var i=t.getValue();e.beginShape(),e.rotateY(.01*e.frameCount),e.rotateX(.01*e.frameCount);for(var s=0,r=0,c=0,o=0;o<i.length;o++){var l=i[o],u=e.map(o,0,i.length-1,0,n)-n/2,d=a/2+l*a-a/2;o%2===0?(e.translate(u-s,d-r,.1*o-c),c=.1*o):(e.translate(u-s,d-r,-.1*o-c),c=-.1*o),e.push(),e.sphere(8,6,4),e.pop(),s=u,r=d}e.endShape()})),P=Object(h.a)([R]),U=Object(h.a)([H,F,V,B,I]),J=Object(h.b)({instruments:P,visualizers:U}),K=(n(4),n(21),n(61)),X={transports:[\"websocket\"],path:\"/ws\",autoConnect:!0,reconnection:!0,timeout:1e4};n(114);var Y=function(){var e=Object(a.useReducer)(j,J),t=Object(c.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){!function(e,t){var n=Object(K.io)(\"ws://localhost:3000\",X);n.on(\"connect\",(function(){})),n.on(\"disconnect\",t)}(0,(function(){i(new m(\"DELETE_SOCKET\"))}))}),[]),Object(v.jsx)(o.a,{children:Object(v.jsxs)(l.c,{children:[Object(v.jsx)(l.a,{path:\"/CSC-600-Website\",children:Object(v.jsx)(D,{state:n,dispatch:i})}),Object(v.jsx)(l.a,{path:\"/:instrument\",children:Object(v.jsx)(D,{state:n,dispatch:i})}),Object(v.jsx)(l.a,{path:\"*\",children:Object(v.jsx)(\"div\",{children:\"404\"})})]})})};n(115),n(116);var q=document.getElementById(\"root\");r.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(Y,{})}),q,(function(){console.log(\"React has loaded.\")}))}},[[117,1,2]]]);","name":"static/js/main.efca7b0a.chunk.js","map":{"version":3,"sources":["static/js/main.efca7b0a.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","react_router_dom","react_router","esm","bucket_16","classCallCheck","immutable_es","Reducer_DispatchAction","DispatchAction","type","args","Object","appReducer","state","action","console","debug","concat","newState","oldSocket","get","close","set","delete","songs","notes","find","s","_URLSearchParams$get","pathname","getIn","search","instrumentName","substring","visualizerName","URLSearchParams","instruments","visualizers","instrument","i","name","visualizer","v","SongDetail","Albums","_Albums","index","Number","Genres","_Genres","_index","SearchText","String","_songs","FilteredSongs","forEach","song","toLowerCase","trim","includes","error","toJS","update","jsx_runtime","TopNav","_ref","className","children","Instruments_InstrumentContainer","_ref2","dispatch","InstrumentComponent","component","_useState","oscillator","toDestination","_useState2","synth","setSynth","eachNote","split","noteObjs","map","note","idx","time","velocity","value","triggerAttackRelease","length","start","cancel","style","top","classnames","classnames_default","bucket_19","SideNav_Section","title","RadioButton","to","text","active","onClick","fw7","Instruments","_ref3","_state$get","activeInstrument","location","log","Visualizers","_ref4","_state$get2","activeVisualizer","SideNav","_ref5","overflow","build","build_default","Visualizers_Visualizer","Visualizer","draw","VisualizerContainer","_draw","analyzer","onResize","p5","width","window","innerWidth","height","innerHeight","resizeCanvas","volume","connect","disconnect","a","setup","canvasParentRef","createCanvas","parent","WEBGL","windowResized","InstrumentPanel","VisualizerPanel","InstrumentAndVisualizer","left","ShowWelcome","MainPage","_ref6","isWelcome","PianoKey","minor","onMouseDown","triggerAttack","onMouseUp","triggerRelease","zIndex","marginLeft","PianoType","PianoInstrument","Instrument","keys","oscillators","octave","key","isMinor","indexOf","o","newType","oldSynth","WaveformVisualizer","dim","Math","min","background","strokeWeight","stroke","noFill","values","getValue","beginShape","amplitude","x","y","vertex","endShape","BoxVisualizer","locX","mouseX","locY","mouseY","ambientLight","directionalLight","pointLight","rotateZ","frameCount","rotateX","specularMaterial","translate","box","pop","CircleVisualizer","angleMode","floor","sin","cos","EllipticalVisualizer","val","amp","ellipse","BarCircleVisualizer","rotateY","startx","starty","startz","sphere","State_instruments","State_visualizers","defaultState","socket_io_client_build","SOCKET_OPTS","transports","path","autoConnect","reconnection","timeout","src_App","_useReducer","_useReducer2","onConnect","onDisconnect","socket","on","initializeSocket","rootEl","document","getElementById","render","StrictMode"],"mappings":"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"},"input":"(this[\"webpackJsonplambdavibe\"] = this[\"webpackJsonplambdavibe\"] || []).push([[0],{\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(58);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(3);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/tone/build/esm/index.js + 936 modules\nvar esm = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/@carbon/icons-react/es/__generated__/bucket-16.js\nvar bucket_16 = __webpack_require__(119);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/immutable/dist/immutable.es.js\nvar immutable_es = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./src/Reducer.tsx\n// 3rd party\n// project deps\nvar Reducer_DispatchAction=function DispatchAction(type,args){Object(classCallCheck[\"a\" /* default */])(this,DispatchAction);this.type=void 0;this.args=void 0;this.type=type;this.args=Object(immutable_es[\"d\" /* fromJS */])(args);};/** ------------------------------------------------------------------------ **\n * Top-level application reducer.\n ** ------------------------------------------------------------------------ */function appReducer(state,action){var type=action.type,args=action.args;console.debug(\"\".concat(type));// Question: Does this function remind of you registering callbacks?\nvar newState=function(){switch(type){case'SET_SOCKET':{var oldSocket=state.get('socket');if(oldSocket){oldSocket.close();}return state.set('socket',args.get('socket'));}case'DELETE_SOCKET':{return state.delete('socket');}case'SET_SONGS':{var songs=args.get('songs');return state.set('songs',songs);}case'PLAY_SONG':{var notes=state.get('songs').find(function(s){return s.get('id')===args.get('id');}).get('notes');return state.set('notes',notes);}case'STOP_SONG':{return state.delete('notes');}case'SET_LOCATION':{var _URLSearchParams$get;var pathname=args.getIn(['location','pathname'],'');var search=args.getIn(['location','search'],'');var instrumentName=pathname.substring(1);var visualizerName=(_URLSearchParams$get=new URLSearchParams(search.substring(1)).get('visualizer'))!==null&&_URLSearchParams$get!==void 0?_URLSearchParams$get:'';var instruments=state.get('instruments');var visualizers=state.get('visualizers');var instrument=instruments.find(function(i){return i.name===instrumentName;});var visualizer=visualizers.find(function(v){return v.name===visualizerName;});return state.set('instrument',instrument).set('visualizer',visualizer);}case'SHOW_SONG_DETAILS':{var SongDetail=args.get('SongDetail');return state.set('SongDetail',SongDetail);}case'SET_ALBUMS':{var Albums=args.get('albums',Object(immutable_es[\"a\" /* List */])());return state.set('Albums',Albums);}case'SET_ALBUM_SONGS':{var _Albums=args.get('Albums',Object(immutable_es[\"a\" /* List */])());var index=args.get('index',Number);return state.set('FilteredSongs',_Albums.get(index).get('songs'));}case'SET_GENRES':{var Genres=args.get('genres',Object(immutable_es[\"a\" /* List */])());return state.set('Genres',Genres);}case'SET_GENRE_SONGS':{var _Genres=args.get('Genres',Object(immutable_es[\"a\" /* List */])());var _index=args.get('index',Number);return state.set('FilteredSongs',_Genres.get(_index).get('songs'));}case'SEARCH_SONGS':{var SearchText=args.get('search',String());var _songs=args.get('songs',Object(immutable_es[\"a\" /* List */])());var FilteredSongs=[];_songs.forEach(function(song){var songTitle=song.get('songTitle').toLowerCase().trim();if(songTitle.includes(SearchText.toLowerCase().trim())){FilteredSongs.push(song);}});return state.set('FilteredSongs',FilteredSongs);}default:console.error(\"type unknown: \".concat(type,\"\\n\"),args.toJS());return state;}}();console.debug(newState.update('socket',function(s){return s?'[socket]':s;}).toJS());return newState;}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/Instruments.tsx\n// 3rd party library imports\n// project imports\nvar Instruments_Instrument=function Instrument(name,component){Object(classCallCheck[\"a\" /* default */])(this,Instrument);this.name=void 0;this.component=void 0;this.name=name;this.component=component;};function TopNav(_ref){var name=_ref.name;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'w-100 h3 bb b--light-gray flex justify-between items-center ph4',children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:name})});}var Instruments_InstrumentContainer=function InstrumentContainer(_ref2){var instrument=_ref2.instrument,state=_ref2.state,dispatch=_ref2.dispatch;var InstrumentComponent=instrument.component;var _useState=Object(react[\"useState\"])(new esm[\"c\" /* Synth */]({oscillator:{type:'sine'}}).toDestination()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),synth=_useState2[0],setSynth=_useState2[1];var notes=state.get('notes');Object(react[\"useEffect\"])(function(){if(notes&&synth){var eachNote=notes.split(' ');var noteObjs=eachNote.map(function(note,idx){return{idx:idx,time:\"+\".concat(idx/4),note:note,velocity:1};});new esm[\"b\" /* Part */](function(time,value){// the value is an object which contains both the note and the velocity\nsynth.triggerAttackRelease(value.note,'4n',time,value.velocity);if(value.idx===eachNote.length-1){dispatch(new Reducer_DispatchAction('STOP_SONG'));}},noteObjs).start(0);esm[\"d\" /* Transport */].start();return function(){esm[\"d\" /* Transport */].cancel();};}return function(){};},[notes,synth,dispatch]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TopNav,{name:instrument.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'bg-white absolute right-0 left-0',style:{top:'4rem'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InstrumentComponent,{name:instrument.name,state:state,dispatch:dispatch,synth:synth,setSynth:setSynth})})]});};\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(27);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./node_modules/@carbon/icons-react/es/__generated__/bucket-19.js\nvar bucket_19 = __webpack_require__(118);\n\n// CONCATENATED MODULE: ./src/SideNav.tsx\n// 3rd party library imports\n// project imports\nvar SideNav_Section=function Section(_ref){var title=_ref.title,children=_ref.children;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex flex-column h-25 bb b--light-gray pa3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"fw7 mb2\",children:[title,\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-auto overflow-scroll\",children:children})]});};function RadioButton(_ref2){var to=_ref2.to,text=_ref2.text,active=_ref2.active,onClick=_ref2.onClick;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:to,className:\"no-underline\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:classnames_default()('f6 flex items-center black',{fw7:active}),onClick:onClick,children:[active?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(bucket_19[\"b\" /* RadioButtonChecked20 */],{className:\"mr1\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(bucket_19[\"a\" /* RadioButton20 */],{className:\"mr1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"dim\",children:text})]})});}function Instruments(_ref3){var _state$get;var state=_ref3.state;var instruments=state.get('instruments');var activeInstrument=(_state$get=state.get('instrument'))===null||_state$get===void 0?void 0:_state$get.name;var location=Object(react_router[\"f\" /* useLocation */])();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SideNav_Section,{title:\"Instruments\",children:instruments.map(function(i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RadioButton,{to:\"/\".concat(i.name).concat(location.search),text:i.name,active:i.name===activeInstrument,onClick:function onClick(){return console.log(i.name);}},i.name);})});}function Visualizers(_ref4){var _state$get2;var state=_ref4.state;var visualizers=state.get('visualizers');var activeVisualizer=(_state$get2=state.get('visualizer'))===null||_state$get2===void 0?void 0:_state$get2.name;var location=Object(react_router[\"f\" /* useLocation */])();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SideNav_Section,{title:\"Visualizers\",children:visualizers.map(function(v){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RadioButton,{to:{pathname:location.pathname,search:\"?visualizer=\".concat(v.name)},text:v.name,active:v.name===activeVisualizer,onClick:function onClick(){return console.log(v.name);}},v.name);})});}function SideNav(_ref5){var state=_ref5.state,dispatch=_ref5.dispatch;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"absolute top-0 left-0 bottom-0 w5 z-1 shadow-1 bg-white flex flex-column\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"h3 fw7 f5 flex items-center pl3 bb b--light-gray\",children:\"Music Visualizer\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-auto\",style:{overflow:'scroll'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Instruments,{state:state,dispatch:dispatch}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Visualizers,{state:state,dispatch:dispatch})]})]});}\n// EXTERNAL MODULE: ./node_modules/react-p5/build/index.js\nvar build = __webpack_require__(60);\nvar build_default = /*#__PURE__*/__webpack_require__.n(build);\n\n// CONCATENATED MODULE: ./src/Visualizers.tsx\n// 3rd party library imports\nvar Visualizers_Visualizer=function Visualizer(name,draw){Object(classCallCheck[\"a\" /* default */])(this,Visualizer);this.name=void 0;this.draw=void 0;this.name=name;this.draw=draw;};function VisualizerContainer(_ref){var visualizer=_ref.visualizer;var name=visualizer.name,_draw=visualizer.draw;var analyzer=Object(react[\"useMemo\"])(function(){return new esm[\"a\" /* Analyser */]('waveform',256);},[]);var onResize=Object(react[\"useCallback\"])(function(p5){var width=window.innerWidth;var height=window.innerHeight/2;p5.resizeCanvas(width,height,false);},[]);Object(react[\"useEffect\"])(function(){esm[\"e\" /* getDestination */]().volume.value=-5;esm[\"e\" /* getDestination */]().connect(analyzer);return function(){esm[\"e\" /* getDestination */]().disconnect(analyzer);};},[analyzer]);var setup=function setup(p5,canvasParentRef){var width=window.innerWidth;var height=window.innerHeight/2;if(name!==\"3D Waveform\"&&name!==\"3D Shape\"){p5.createCanvas(width,height).parent(canvasParentRef);}else{p5.createCanvas(width,height,p5.WEBGL).parent(canvasParentRef);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:'bg-black absolute bottom-0 right-0 left-0 h-50',children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'z-1 absolute left-0 top-0 pa4 white f5',children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(build_default.a,{setup:setup,draw:function draw(p5){return _draw(p5,analyzer);},windowResized:onResize})]});}\n// CONCATENATED MODULE: ./src/MainPage.tsx\n// 3rd party library imports\n// project imports\n/** ------------------------------------------------------------------------ **\n * Instrument and visualizer component\n ** ------------------------------------------------------------------------ */function InstrumentPanel(_ref){var state=_ref.state,dispatch=_ref.dispatch;/**\n   * This React component is the top-level for the instrument.\n   */var instrument=state.get('instrument');return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:instrument&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Instruments_InstrumentContainer,{state:state,dispatch:dispatch,instrument:instrument})});}function VisualizerPanel(_ref2){var state=_ref2.state;/**\n   * This React component is the top-level for the visualizer.\n   */var visualizer=state.get('visualizer');return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:visualizer&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VisualizerContainer,{visualizer:visualizer},visualizer.name)});}function InstrumentAndVisualizer(_ref3){var state=_ref3.state,dispatch=_ref3.dispatch;/**\n   * This React component bundles the instrument panel and visualizer panel together.\n   */return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"absolute right-0 bottom-0 top-0 flex flex-column\",style:{left:'16rem'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InstrumentPanel,{state:state,dispatch:dispatch}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VisualizerPanel,{state:state,dispatch:dispatch})]});}function ShowWelcome(_ref4){var state=_ref4.state,dispatch=_ref4.dispatch;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"absolute right-0 bottom-0 top-0 flex flex-column items-center justify-center\",style:{left:'16rem'},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"mw6 lh-copy mb4\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(bucket_16[\"a\" /* Music32 */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"f3 fw7 mb2\",children:\"Welcome to the case study.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"f4 mb3\",children:\"Select an instrument and a visualizer on the left to serve some fresh beats.\"})]})});}function ShowSongs(_ref5){var state=_ref5.state,dispatch=_ref5.dispatch;var oscillators=Object(immutable_es[\"a\" /* List */])(['sine','sawtooth','square','triangle','fmsine','fmsawtooth','fmtriangle','amsine','amsawtooth','amtriangle']);var _useState=Object(react[\"useState\"])(new esm[\"c\" /* Synth */]({oscillator:{type:'amsawtooth'}}).toDestination()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),synth=_useState2[0],setSynth=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var notes=state.get('notes');var songs=state.get('songs',Object(immutable_es[\"a\" /* List */])());Object(react[\"useEffect\"])(function(){if(search!==\"\"){dispatch(new Reducer_DispatchAction('SEARCH_SONGS',{search:search,songs:songs}));}if(notes&&synth){var eachNote=notes.split(' ');var noteObjs=eachNote.map(function(note,idx){return{idx:idx,time:\"+\".concat(idx/4),note:note,velocity:1};});new esm[\"b\" /* Part */](function(time,value){// the value is an object which contains both the note and the velocity\nsynth.triggerAttackRelease(value.note,'4n',time,value.velocity);if(value.idx===eachNote.length-1){dispatch(new Reducer_DispatchAction('STOP_SONG'));}},noteObjs).start(0);esm[\"d\" /* Transport */].start();return function(){esm[\"d\" /* Transport */].cancel();};}return function(){};},[notes,synth,search,songs,dispatch]);var setOscillator=function setOscillator(newType){setSynth(function(oldSynth){oldSynth.disconnect();return new esm[\"c\" /* Synth */]({oscillator:{type:newType}}).toDestination();});};var FilteredSongs=state.get('FilteredSongs',Object(immutable_es[\"a\" /* List */])());return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-reset ba b--black-20 pa2 mb2 db w-100\",placeholder:\"Enter Song Title\",value:search,onChange:function onChange(value){setSearch(value.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',flexDirection:'row',justifyContent:'space-between'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginTop:'5%'},children:[\"  Search Results by Song Tittle\",FilteredSongs!==undefined?FilteredSongs.map(function(song){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"f6 pointer underline items-center no-underline i dim\",onClick:function onClick(){dispatch(new Reducer_DispatchAction('PLAY_SONG',{id:song.get('id')}));},children:song.get('songTitle')});}):null]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginTop:'5%'},children:[\"Oscillators List\",oscillators.map(function(o){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"f6 pointer underline items-center no-underline i dim\",onClick:function onClick(){return setOscillator(o);},style:{margin:'1%'},children:o});})]})]})]});}/** ------------------------------------------------------------------------ **\n * Main page component\n ** ------------------------------------------------------------------------ */function MainPage(_ref6){var state=_ref6.state,dispatch=_ref6.dispatch;/**\n   * This React component bundles together the entire main page.\n   */var location=Object(react_router[\"f\" /* useLocation */])();var isWelcome=!state.get('instrument');console.log('INSTRUMENT',isWelcome);Object(react[\"useEffect\"])(function(){dispatch(new Reducer_DispatchAction('SET_LOCATION',{location:location}));},[dispatch,location]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"fixed top-0 left-0 h-100 w-100 bg-white\",onClick:function onClick(){return esm[\"f\" /* start */]();},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SideNav,{state:state,dispatch:dispatch}),isWelcome?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ShowWelcome,{state:state,dispatch:dispatch}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InstrumentAndVisualizer,{state:state,dispatch:dispatch})]});}\n// CONCATENATED MODULE: ./src/instruments/Piano.tsx\n// 3rd party library imports\n// project imports\n/** ------------------------------------------------------------------------ **\n * Contains implementation of components for Piano.\n ** ------------------------------------------------------------------------ */function PianoKey(_ref){var note=_ref.note,synth=_ref.synth,minor=_ref.minor,index=_ref.index;/**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */return/*#__PURE__*/ (// Observations:\n// 1. The JSX refers to the HTML-looking syntax within TypeScript.\n// 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n// 3. The curly braces `{` and `}` should remind you of string interpolation.\nObject(jsx_runtime[\"jsx\"])(\"div\",{onMouseDown:function onMouseDown(){return synth===null||synth===void 0?void 0:synth.triggerAttack(\"\".concat(note));}// Question: what is `onMouseDown`?\n,onMouseUp:function onMouseUp(){return synth===null||synth===void 0?void 0:synth.triggerRelease('+0.25');}// Question: what is `onMouseUp`?\n,className:classnames_default()('ba pointer absolute dim',{'bg-black black h3':minor,// minor keys are black\n'black bg-white h4':!minor// major keys are white\n}),style:{// CSS\ntop:0,left:\"\".concat(index*2,\"rem\"),zIndex:minor?1:0,width:minor?'1.5rem':'2rem',marginLeft:minor?'0.25rem':0}}));}// eslint-disable-next-line\nfunction PianoKeyWithoutJSX(_ref2){var note=_ref2.note,synth=_ref2.synth,minor=_ref2.minor,index=_ref2.index;/**\n   * This React component for pedagogical purposes.\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\n   */return/*#__PURE__*/react_default.a.createElement('div',{onMouseDown:function onMouseDown(){return synth===null||synth===void 0?void 0:synth.triggerAttack(\"\".concat(note));},onMouseUp:function onMouseUp(){return synth===null||synth===void 0?void 0:synth.triggerRelease('+0.25');},className:classnames_default()('ba pointer absolute dim',{'bg-black black h3':minor,'black bg-white h4':!minor}),style:{top:0,left:\"\".concat(index*2,\"rem\"),zIndex:minor?1:0,width:minor?'1.5rem':'2rem',marginLeft:minor?'0.25rem':0}},[]);}function PianoType(_ref3){var title=_ref3.title,onClick=_ref3.onClick,active=_ref3.active;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{onClick:onClick,className:classnames_default()('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1',{'b--black black':active,'gray b--light-gray':!active}),children:title});}function Piano(_ref4){var synth=_ref4.synth,setSynth=_ref4.setSynth;var keys=Object(immutable_es[\"a\" /* List */])([{note:'C',idx:0},{note:'Db',idx:0.5},{note:'D',idx:1},{note:'Eb',idx:1.5},{note:'E',idx:2},{note:'F',idx:3},{note:'Gb',idx:3.5},{note:'G',idx:4},{note:'Ab',idx:4.5},{note:'A',idx:5},{note:'Bb',idx:5.5},{note:'B',idx:6}]);var setOscillator=function setOscillator(newType){setSynth(function(oldSynth){oldSynth.disconnect();return new esm[\"c\" /* Synth */]({oscillator:{type:newType}}).toDestination();});};var oscillators=Object(immutable_es[\"a\" /* List */])(['sine','sawtooth','square','triangle','fmsine','fmsawtooth','fmtriangle','amsine','amsawtooth','amtriangle']);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"pv4\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"relative dib h4 w-100 ml4\",children:Object(immutable_es[\"c\" /* Range */])(2,7).map(function(octave){return keys.map(function(key){var isMinor=key.note.indexOf('b')!==-1;var note=\"\".concat(key.note).concat(octave);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PianoKey,{//react key\nnote:note,synth:synth,minor:isMinor,octave:octave,index:(octave-2)*7+key.idx},note);});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'pl4 pt4 flex',children:oscillators.map(function(o){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PianoType,{title:o,onClick:function onClick(){return setOscillator(o);},active:(synth===null||synth===void 0?void 0:synth.oscillator.type)===o},o);})})]});}var PianoInstrument=new Instruments_Instrument('Piano',Piano);\n// CONCATENATED MODULE: ./src/visualizers/Waveform.tsx\n// 3rd party library imports\n// project imports\nvar WaveformVisualizer=new Visualizers_Visualizer('Waveform',function(p5,analyzer){var width=window.innerWidth;var height=window.innerHeight/2;var dim=Math.min(width,height);p5.background(0,0,0,255);p5.strokeWeight(dim*0.01);p5.stroke(255,255,255,255);p5.noFill();var values=analyzer.getValue();p5.beginShape();for(var i=0;i<values.length;i++){var amplitude=values[i];var x=p5.map(i,0,values.length-1,0,width);var y=height/2+amplitude*height;// Place vertex\np5.vertex(x,y);}p5.endShape();});\n// CONCATENATED MODULE: ./src/visualizers/JasJahan_3D.tsx\n/*\n    Author: Jasmine Jahan\n    GitHub Handle: jasjahan\n    JasJahan_3D.tsx: Adding a 3D Shape Visualizer\n*/var BoxVisualizer=new Visualizers_Visualizer('3D Shape',function(p5,analyzer){var width=window.innerWidth;var height=window.innerHeight/2;p5.background(\"black\");var values=analyzer.getValue();var locX=p5.mouseX-height/2;var locY=p5.mouseY-width/2;p5.ambientLight(50);p5.directionalLight(255,0,0,0.25,0.25,0);p5.pointLight(0,0,255,locX,locY,250);p5.beginShape();p5.rotateZ(p5.frameCount*0.02);p5.rotateX(p5.frameCount*0.02);p5.specularMaterial(250);p5.translate(-width/10,0,0);for(var i=0;i<values.length;i++){var amplitude=values[i];var x=p5.map(i,0,values.length-1,0,amplitude*height)+width;var y=height/2+amplitude*width+height;// p5.translate(width/15, 0, 0); \np5.push();p5.box(x*.07,y*.15,100);p5.pop();}p5.endShape();});\n// CONCATENATED MODULE: ./src/visualizers/thaoHo618.tsx\n/*\n    Author: Thao Ho\n    GitHub Handle: thaoHo618\n\n    thaoHo618.tsx: Adding a circle waveform visualizer\n*/ // 3rd party library imports\n// project imports\nvar CircleVisualizer=new Visualizers_Visualizer('Circle Waveform',function(p5,analyzer){var width=window.innerWidth;var height=window.innerHeight/2;var dim=Math.min(width,height);p5.angleMode('degrees');p5.background(0,0,0,255);// sets background color\np5.stroke(255,0,127);// sets border color\np5.strokeWeight(dim*0.02);// sets border thickness \np5.noFill();// disables filling geometry\np5.translate(width/2.5,height/2);// sets location of the object\nvar values=analyzer.getValue();p5.beginShape();for(var i=0;i<=180;i++){// creating the first half of the circle, thus <= 180\nvar index=p5.floor(p5.map(i,0,180,0,values.length-1));// using the index to map the radius of the circle to the waveform.\nvar r=p5.map(values[index],-1,1,150,300);// 150 and 350 are min and max radius of circle respectively                \nvar x=r*p5.sin(i);var y=r*p5.cos(i);p5.vertex(x,y);}p5.endShape();p5.beginShape();// eslint-disable-next-line\nfor(var i=0;i<=180;i++){// creating the mirror of the first half\n// eslint-disable-next-line\nvar index=p5.floor(p5.map(i,0,180,0,values.length-1));// using the index to map the radius of the circle to the waveform.\n// eslint-disable-next-line\nvar r=p5.map(values[index],-1,1,150,300);// eslint-disable-next-line\nvar x=r*-p5.sin(i);// Added a negative sign to create a mirrored image of the circle\n// eslint-disable-next-line\nvar y=r*p5.cos(i);p5.vertex(x,y);}p5.endShape();});\n// CONCATENATED MODULE: ./src/visualizers/sroy97.tsx\n/*\n    Author: Saptarshi Roy\n    GitHub Handle: sroy97\n\n    sroy97.tsx: string waveform visualizer\n*/ // 3rd party library imports\n// project imports\nvar EllipticalVisualizer=new Visualizers_Visualizer('Elliptical Nebular Waveform',function(p5,analyzer){var width=window.innerWidth;var height=window.innerHeight/2;p5.background(0,0,0,210);p5.stroke(255,0,127);p5.strokeWeight(3);p5.noFill();var values=analyzer.getValue();p5.beginShape();values.forEach(function(val,i){var amp=values[i];p5.ellipse(600,200,300+width*amp,150+height*amp);p5.ellipse(600,200,150+height*amp,300+width*amp);});p5.endShape();});\n// CONCATENATED MODULE: ./src/visualizers/KshitizSareen.tsx\n// 3rd party library imports\n// project imports\nvar BarCircleVisualizer=new Visualizers_Visualizer('3D Waveform',function(p5,analyzer){var width=window.innerWidth;var height=window.innerHeight/2;p5.background(250,250,250,255);var values=analyzer.getValue();p5.beginShape();p5.rotateY(p5.frameCount*0.01);p5.rotateX(p5.frameCount*0.01);var startx=0;var starty=0;var startz=0;for(var i=0;i<values.length;i++){var amplitude=values[i];var x=p5.map(i,0,values.length-1,0,width)-width/2;var y=height/2+amplitude*height-height/2;// Place vertex\nif(i%2===0){p5.translate(x-startx,y-starty,0.1*i-startz);startz=i*0.1;}else{p5.translate(x-startx,y-starty,-0.1*i-startz);startz=i*-0.1;}p5.push();p5.sphere(8,6,4);p5.pop();startx=x;starty=y;}p5.endShape();}// p5.endShape();\n);\n// CONCATENATED MODULE: ./src/State.tsx\n// 3rd party\n// project dependencies\n/** ------------------------------------------------------------------------ **\n * The entire application state is stored in AppState.\n ** ------------------------------------------------------------------------ */ /**\n * Observation: pure map (compare and contrast with impure map)\n *\n * 'instrument': Instrument\n * 'visualizer': Visualizer\n */var State_instruments=Object(immutable_es[\"a\" /* List */])([PianoInstrument]);var State_visualizers=Object(immutable_es[\"a\" /* List */])([WaveformVisualizer,CircleVisualizer,EllipticalVisualizer,BarCircleVisualizer,BoxVisualizer]);var defaultState=Object(immutable_es[\"b\" /* Map */])({instruments:State_instruments,visualizers:State_visualizers});\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\nvar objectWithoutProperties = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/index.js\nvar socket_io_client_build = __webpack_require__(61);\n\n// CONCATENATED MODULE: ./src/Socket.tsx\nvar _excluded=[\"error\"];var SOCKET_URL='ws://localhost:3000';var SOCKET_OPTS={transports:['websocket'],path:'/ws',autoConnect:true,reconnection:true,timeout:10000};var idCounter=1;function send(_x,_x2,_x3){return _send.apply(this,arguments);}function _send(){_send=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(socket,name,msg){var _id;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_id=idCounter++;return _context.abrupt(\"return\",new Promise(function(resolve,reject){socket.once(\"\".concat(name,\".\").concat(_id),function(resp){var error=resp.error,success=Object(objectWithoutProperties[\"a\" /* default */])(resp,_excluded);if(success){resolve(success);}else{reject(error);}});socket.emit(name,Object(objectSpread2[\"a\" /* default */])({_id:_id},msg));}));case 2:case\"end\":return _context.stop();}}},_callee);}));return _send.apply(this,arguments);}function initializeSocket(onConnect,onDisconnect){var socket=Object(socket_io_client_build[\"io\"])(SOCKET_URL,SOCKET_OPTS);socket.on('connect',function(){});socket.on('disconnect',onDisconnect);return socket;}\n// EXTERNAL MODULE: ./node_modules/animate.css/animate.css\nvar animate = __webpack_require__(114);\n\n// CONCATENATED MODULE: ./src/App.tsx\n// 3rd party library imports\n// project imports\n// css imports\n/** ------------------------------------------------------------------------ **\n * App component\n ** ------------------------------------------------------------------------ */function App(){var _useReducer=Object(react[\"useReducer\"])(appReducer,defaultState),_useReducer2=Object(slicedToArray[\"a\" /* default */])(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];Object(react[\"useEffect\"])(function(){initializeSocket(/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(socket){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),function(){dispatch(new Reducer_DispatchAction('DELETE_SOCKET'));});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/CSC-600-Website\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MainPage,{state:state,dispatch:dispatch})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/:instrument\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MainPage,{state:state,dispatch:dispatch})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"*\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"404\"})})]})});}/* harmony default export */ var src_App = (App);\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(115);\n\n// EXTERNAL MODULE: ./src/tachyons.css\nvar tachyons = __webpack_require__(116);\n\n// CONCATENATED MODULE: ./src/index.tsx\n// 3rd party library imports\n// project imports\n// CSS\n/** ------------------------------------------------------------------------ **\n * Entry point.\n ** ------------------------------------------------------------------------ */function onReactLoaded(){console.log('React has loaded.');}var rootEl=document.getElementById('root');react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),rootEl,// Insert into DOM here\nonReactLoaded);\n\n/***/ })\n\n},[[117,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/kshitiz/CSC-600-Website/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kshitiz/CSC-600-Website/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kshitiz/CSC-600-Website/node_modules/postcss-loader/src/index.js??postcss!/Users/kshitiz/CSC-600-Website/src/index.css","/Users/kshitiz/CSC-600-Website/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kshitiz/CSC-600-Website/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kshitiz/CSC-600-Website/node_modules/postcss-loader/src/index.js??postcss!/Users/kshitiz/CSC-600-Website/src/tachyons.css","/Users/kshitiz/CSC-600-Website/src/Reducer.tsx","/Users/kshitiz/CSC-600-Website/src/Instruments.tsx","/Users/kshitiz/CSC-600-Website/src/SideNav.tsx","/Users/kshitiz/CSC-600-Website/src/Visualizers.tsx","/Users/kshitiz/CSC-600-Website/src/MainPage.tsx","/Users/kshitiz/CSC-600-Website/src/instruments/Piano.tsx","/Users/kshitiz/CSC-600-Website/src/visualizers/Waveform.tsx","/Users/kshitiz/CSC-600-Website/src/visualizers/JasJahan_3D.tsx","/Users/kshitiz/CSC-600-Website/src/visualizers/thaoHo618.tsx","/Users/kshitiz/CSC-600-Website/src/visualizers/sroy97.tsx","/Users/kshitiz/CSC-600-Website/src/visualizers/KshitizSareen.tsx","/Users/kshitiz/CSC-600-Website/src/State.tsx","/Users/kshitiz/CSC-600-Website/src/Socket.tsx","/Users/kshitiz/CSC-600-Website/src/App.tsx","/Users/kshitiz/CSC-600-Website/src/index.tsx"],"names":["DispatchAction","type","args","fromJS","appReducer","state","action","console","debug","newState","oldSocket","get","close","set","delete","songs","notes","find","s","pathname","getIn","search","instrumentName","substring","visualizerName","URLSearchParams","instruments","visualizers","instrument","i","name","visualizer","v","SongDetail","Albums","List","index","Number","Genres","SearchText","String","FilteredSongs","forEach","song","songTitle","toLowerCase","trim","includes","push","error","toJS","update","Instrument","component","TopNav","InstrumentContainer","dispatch","InstrumentComponent","useState","Tone","oscillator","toDestination","synth","setSynth","useEffect","eachNote","split","noteObjs","map","note","idx","time","velocity","value","triggerAttackRelease","length","start","cancel","top","Section","title","children","RadioButton","to","text","active","onClick","classNames","fw7","Instruments","activeInstrument","location","useLocation","log","Visualizers","activeVisualizer","SideNav","overflow","Visualizer","draw","VisualizerContainer","analyzer","useMemo","onResize","useCallback","p5","width","window","innerWidth","height","innerHeight","resizeCanvas","volume","connect","disconnect","setup","canvasParentRef","createCanvas","parent","WEBGL","InstrumentPanel","VisualizerPanel","InstrumentAndVisualizer","left","ShowWelcome","ShowSongs","oscillators","setSearch","setOscillator","newType","oldSynth","target","display","flexDirection","justifyContent","marginTop","undefined","id","o","margin","MainPage","isWelcome","PianoKey","minor","triggerAttack","triggerRelease","zIndex","marginLeft","PianoKeyWithoutJSX","React","createElement","onMouseDown","onMouseUp","className","style","PianoType","Piano","keys","Range","octave","key","isMinor","indexOf","PianoInstrument","WaveformVisualizer","dim","Math","min","background","strokeWeight","stroke","noFill","values","getValue","beginShape","amplitude","x","y","vertex","endShape","BoxVisualizer","locX","mouseX","locY","mouseY","ambientLight","directionalLight","pointLight","rotateZ","frameCount","rotateX","specularMaterial","translate","box","pop","CircleVisualizer","angleMode","floor","r","sin","cos","EllipticalVisualizer","val","amp","ellipse","BarCircleVisualizer","rotateY","startx","starty","startz","sphere","defaultState","Map","SOCKET_URL","SOCKET_OPTS","transports","path","autoConnect","reconnection","timeout","idCounter","send","socket","msg","_id","Promise","resolve","reject","once","resp","success","emit","initializeSocket","onConnect","onDisconnect","newSocket","on","App","useReducer","onReactLoaded","rootEl","document","getElementById","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// 3rd party\nimport { List, Map, fromJS } from 'immutable';\n\n// project deps\nimport { Instrument } from './Instruments';\nimport { Visualizer } from './Visualizers';\nimport { AppState } from './State';\n\n/** ------------------------------------------------------------------------ **\n * All user input is handled by DispatchAction.\n ** ------------------------------------------------------------------------ */\n\n/**\n * Observation: pure map (compare and contrast with impure map)\n *\n * 'instrument': Instrument\n * 'visualizer': Visualizer\n * 'songs': List<string>\n * 'notes': List<{id: number, songTitle: string, notes: string}>\n */\ntype DispatchArgs = {\n  [key: string]: any;\n};\n\n// A simple algebraic data-type with string literal types\ntype DispatchActionType =\n  | 'SET_SOCKET'\n  | 'DELETE_SOCKET'\n  | 'SET_SONGS'\n  | 'PLAY_SONG'\n  | 'STOP_SONG'\n  | 'SET_LOCATION'\n  | 'SHOW_SONG_DETAILS' \n  | 'SET_ALBUMS'\n  | 'SET_ALBUM_SONGS'\n  | 'SET_GENRES'\n  | 'SET_GENRE_SONGS'\n  | 'SEARCH_SONGS';\n\nexport class DispatchAction {\n  readonly type: DispatchActionType;\n  readonly args: Map<string, any>;\n\n  constructor(type: DispatchActionType, args?: DispatchArgs) {\n    this.type = type;\n    this.args = fromJS(args) as Map<string, any>;\n  }\n}\n\n/** ------------------------------------------------------------------------ **\n * Top-level application reducer.\n ** ------------------------------------------------------------------------ */\n\nexport function appReducer(state: AppState, action: DispatchAction): AppState {\n  const { type, args } = action;\n\n  console.debug(`${type}`);\n\n  // Question: Does this function remind of you registering callbacks?\n  const newState = (() => {\n    switch (type) {\n      case 'SET_SOCKET': {\n        const oldSocket = state.get('socket');\n        if (oldSocket) {\n          oldSocket.close();\n        }\n\n        return state.set('socket', args.get('socket'));\n      }\n      case 'DELETE_SOCKET': {\n        return state.delete('socket');\n      }\n      case 'SET_SONGS': {\n        const songs = args.get('songs');\n        return state.set('songs', songs);\n      }\n      case 'PLAY_SONG': {\n        const notes = state\n          .get('songs')\n          .find((s: any) => s.get('id') === args.get('id'))\n          .get('notes');\n        return state.set('notes', notes);\n      }\n      case 'STOP_SONG': {\n        return state.delete('notes');\n      }\n      case 'SET_LOCATION': {\n        const pathname = args.getIn(['location', 'pathname'], '') as string;\n        const search = args.getIn(['location', 'search'], '') as string;\n\n        const instrumentName: string = pathname.substring(1);\n        const visualizerName: string =\n          new URLSearchParams(search.substring(1)).get('visualizer') ?? '';\n        const instruments: List<Instrument> = state.get('instruments');\n        const visualizers: List<Visualizer> = state.get('visualizers');\n\n        const instrument = instruments.find(i => i.name === instrumentName);\n        const visualizer = visualizers.find(v => v.name === visualizerName);\n\n        return state\n          .set('instrument', instrument)\n          .set('visualizer', visualizer);\n      }\n\n      case 'SHOW_SONG_DETAILS':{\n        const SongDetail = args.get('SongDetail');\n        return state.set('SongDetail',SongDetail);\n      }\n\n      case 'SET_ALBUMS':{\n        let Albums : List<any> = args.get('albums',List());\n        return state.set('Albums',Albums);\n      }\n\n      case 'SET_ALBUM_SONGS':{\n        let Albums : List<any> =args.get('Albums',List())\n        let index : number = args.get('index',Number);\n        return state.set('FilteredSongs',Albums.get(index).get('songs'));\n      }\n\n      case 'SET_GENRES':{\n        let Genres : List<any> = args.get('genres',List());\n        return state.set('Genres',Genres);\n      }\n\n      case 'SET_GENRE_SONGS':{\n        let Genres : List<any> = args.get('Genres',List());\n        let index: number = args.get('index',Number);\n        return state.set('FilteredSongs',Genres.get(index).get('songs'));\n      }\n\n      case 'SEARCH_SONGS':{\n        let SearchText : String = args.get('search',String());\n        let songs : List<any> = args.get('songs',List());\n        let FilteredSongs : any[] = [];\n        songs.forEach(song=>{\n          let songTitle : String = song.get('songTitle').toLowerCase().trim();\n          if(songTitle.includes(SearchText.toLowerCase().trim()))\n          {\n            FilteredSongs.push(song);\n          }\n        })\n        return state.set('FilteredSongs',FilteredSongs);\n      }\n\n      default:\n        console.error(`type unknown: ${type}\\n`, args.toJS());\n        return state;\n    }\n  })();\n\n  console.debug(newState.update('socket', s => (s ? '[socket]' : s)).toJS());\n\n  return newState;\n}\n","// 3rd party library imports\nimport React, { useState, useEffect } from 'react';\nimport * as Tone from 'tone';\n\n// project imports\nimport { DispatchAction } from './Reducer';\nimport { AppState } from './State';\n\n/** ------------------------------------------------------------------------ **\n * Contains implementation of an Instruments.\n ** ------------------------------------------------------------------------ */\n\nexport interface InstrumentProps {\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n  name: string;\n  synth: Tone.Synth;\n  setSynth: (f: (oldSynth: Tone.Synth) => Tone.Synth) => void;\n}\n\nexport class Instrument {\n  public readonly name: string;\n  public readonly component: React.FC<InstrumentProps>;\n\n  constructor(name: string, component: React.FC<InstrumentProps>) {\n    this.name = name;\n    this.component = component;\n  }\n}\n\nfunction TopNav({ name }: { name: string }) {\n  return (\n    <div\n      className={\n        'w-100 h3 bb b--light-gray flex justify-between items-center ph4'\n      }\n    >\n      <div>{name}</div>\n    </div>\n  );\n}\n\ninterface InstrumentContainerProps {\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n  instrument: Instrument;\n}\n\nexport const InstrumentContainer: React.FC<InstrumentContainerProps> = ({\n  instrument,\n  state,\n  dispatch,\n}: InstrumentContainerProps) => {\n  const InstrumentComponent = instrument.component;\n  const [synth, setSynth] = useState(\n    new Tone.Synth({\n      oscillator: { type: 'sine' } as Tone.OmniOscillatorOptions,\n    }).toDestination(),\n  );\n\n  const notes = state.get('notes');\n\n  useEffect(() => {\n    if (notes && synth) {\n      let eachNote = notes.split(' ');\n      let noteObjs = eachNote.map((note: string, idx: number) => ({\n        idx,\n        time: `+${idx / 4}`,\n        note,\n        velocity: 1,\n      }));\n\n      new Tone.Part((time, value) => {\n        // the value is an object which contains both the note and the velocity\n        synth.triggerAttackRelease(value.note, '4n', time, value.velocity);\n        if (value.idx === eachNote.length - 1) {\n          dispatch(new DispatchAction('STOP_SONG'));\n        }\n      }, noteObjs).start(0);\n\n      Tone.Transport.start();\n\n      return () => {\n        Tone.Transport.cancel();\n      };\n    }\n\n    return () => {};\n  }, [notes, synth, dispatch]);\n\n  return (\n    <div>\n      <TopNav name={instrument.name} />\n      <div\n        className={'bg-white absolute right-0 left-0'}\n        style={{ top: '4rem' }}\n      >\n        <InstrumentComponent\n          name={instrument.name}\n          state={state}\n          dispatch={dispatch}\n          synth={synth}\n          setSynth={setSynth}\n        />\n      </div>\n    </div>\n  );\n};\n","// 3rd party library imports\nimport classNames from 'classnames';\nimport { List } from 'immutable';\nimport React from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport {\n  RadioButton20,\n  RadioButtonChecked20,\n  Music20,\n} from '@carbon/icons-react';\n\n// project imports\nimport { DispatchAction } from './Reducer';\nimport { AppState } from './State';\nimport { Instrument } from './Instruments';\nimport { Visualizer } from './Visualizers';\nimport { send } from './Socket';\n\n\n/** ------------------------------------------------------------------------ **\n * All the components in the side navigation.\n ** ------------------------------------------------------------------------ */\n\ninterface SideNavProps {\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n}\n\nconst Section: React.FC<{ title: string }> = ({ title, children }) => {\n  return (\n    <div className=\"flex flex-column h-25 bb b--light-gray pa3\">\n      <div className=\"fw7 mb2\">{title} </div>\n      <div className=\"flex-auto overflow-scroll\">{children}</div>\n    </div>\n  );\n};\n\ninterface RadioButtonProps {\n  to: any,\n  text: string,\n  active: boolean,\n  onClick: () => void\n}\n\nfunction RadioButton({ to, text, active, onClick }: RadioButtonProps): JSX.Element {\n  return (\n    <Link to={to} className=\"no-underline\">\n      <div\n        className={classNames('f6 flex items-center black', { fw7: active })}\n        onClick={onClick}\n      >\n        {active ? (\n          <RadioButtonChecked20 className=\"mr1\" />\n        ) : (\n          <RadioButton20 className=\"mr1\" />\n        )}\n        <div className=\"dim\">{text}</div>\n      </div>\n    </Link>\n  );\n}\n\nfunction Instruments({ state }: SideNavProps): JSX.Element {\n  const instruments: List<Instrument> = state.get('instruments');\n  const activeInstrument = state.get('instrument')?.name;\n  const location = useLocation();\n\n  return (\n    <Section title=\"Instruments\">\n      {instruments.map(i => (\n        <RadioButton\n          key={i.name}\n          to={`/${i.name}${location.search}`}\n          text={i.name}\n          active={i.name === activeInstrument}\n          onClick={() => console.log(i.name)}\n        />\n      ))}\n    </Section>\n  );\n}\n\nfunction Visualizers({ state }: SideNavProps): JSX.Element {\n  const visualizers: List<Visualizer> = state.get('visualizers');\n  const activeVisualizer = state.get('visualizer')?.name;\n  const location = useLocation();\n\n  return (\n    <Section title=\"Visualizers\">\n      {visualizers.map(v => (\n        <RadioButton\n          key={v.name}\n          to={{\n            pathname: location.pathname,\n            search: `?visualizer=${v.name}`,\n          }}\n          text={v.name}\n          active={v.name === activeVisualizer}\n          onClick={() => console.log(v.name)}\n        />\n      ))}\n    </Section>\n  );\n}\nexport function SideNav({ state, dispatch }: SideNavProps): JSX.Element {\n  return (\n    <div className=\"absolute top-0 left-0 bottom-0 w5 z-1 shadow-1 bg-white flex flex-column\">\n      <div className=\"h3 fw7 f5 flex items-center pl3 bb b--light-gray\">\n        Music Visualizer\n      </div>\n      <div className=\"flex-auto\" style={{\n        overflow: 'scroll'\n      }}>\n        <Instruments state={state} dispatch={dispatch} />\n        <Visualizers state={state} dispatch={dispatch} />\n      </div>\n    </div>\n  );\n}\n","// 3rd party library imports\nimport * as Tone from 'tone';\nimport Sketch from 'react-p5';\nimport P5 from 'p5';\nimport React, { useEffect, useMemo, useCallback } from 'react';\n\ntype VisualizerDrawer = (p5: P5, analyzer: Tone.Analyser) => void;\n\ninterface VisualizerContainerProps {\n  visualizer: Visualizer;\n}\n\nexport class Visualizer {\n  public readonly name: string;\n  public readonly draw: VisualizerDrawer;\n\n  constructor(name: string, draw: VisualizerDrawer) {\n    this.name = name;\n    this.draw = draw;\n  }\n}\n\nexport function VisualizerContainer({ visualizer }: VisualizerContainerProps) {\n  const { name, draw } = visualizer;\n\n  const analyzer: Tone.Analyser = useMemo(\n    () => new Tone.Analyser('waveform', 256),\n    [],\n  );\n\n  const onResize = useCallback((p5: P5) => {\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n\n    p5.resizeCanvas(width, height, false);\n  }, []);\n\n  useEffect(() => {\n    Tone.getDestination().volume.value = -5;\n    Tone.getDestination().connect(analyzer);\n    return () => {\n      Tone.getDestination().disconnect(analyzer);\n    };\n  }, [analyzer]);\n\n  const setup = (p5: P5, canvasParentRef: Element) => {\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n    if(name !== \"3D Waveform\" && name !== \"3D Shape\" )\n    {\n    p5.createCanvas(width, height).parent(canvasParentRef);\n    }\n    else\n    {\n      p5.createCanvas(width, height,p5.WEBGL).parent(canvasParentRef);\n    }\n  };\n\n  return (\n    <div className={'bg-black absolute bottom-0 right-0 left-0 h-50'}>\n      <div className={'z-1 absolute left-0 top-0 pa4 white f5'}>{name}</div>\n      <Sketch\n        setup={setup}\n        draw={p5 => draw(p5, analyzer)}\n        windowResized={onResize}\n      />\n    </div>\n  );\n}\n","// 3rd party library imports\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport * as Tone from 'tone';\nimport { Music32 } from '@carbon/icons-react';\n\n// project imports\nimport { InstrumentContainer } from './Instruments';\nimport { AppState } from './State';\nimport { DispatchAction } from './Reducer';\nimport { SideNav } from './SideNav';\nimport { VisualizerContainer } from './Visualizers';\nimport { List } from 'immutable';\n\n\n\ntype PanelProps = {\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n};\n\n/** ------------------------------------------------------------------------ **\n * Instrument and visualizer component\n ** ------------------------------------------------------------------------ */\n\nfunction InstrumentPanel({ state, dispatch }: PanelProps): JSX.Element {\n  /**\n   * This React component is the top-level for the instrument.\n   */\n  const instrument = state.get('instrument');\n\n  return (\n    <div>\n      {instrument && (\n        <InstrumentContainer\n          state={state}\n          dispatch={dispatch}\n          instrument={instrument}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction VisualizerPanel({ state }: PanelProps): JSX.Element {\n  /**\n   * This React component is the top-level for the visualizer.\n   */\n  const visualizer = state.get('visualizer');\n\n  return (\n    <div>\n      {visualizer && (\n        <VisualizerContainer key={visualizer.name} visualizer={visualizer} />\n      )}\n    </div>\n  );\n}\n\nfunction InstrumentAndVisualizer({ state, dispatch }: PanelProps): JSX.Element {\n  /**\n   * This React component bundles the instrument panel and visualizer panel together.\n   */\n\n  return (\n    <div\n      className=\"absolute right-0 bottom-0 top-0 flex flex-column\"\n      style={{ left: '16rem' }}\n    >\n      <InstrumentPanel state={state} dispatch={dispatch} />\n      <VisualizerPanel state={state} dispatch={dispatch} />\n    </div>\n  );\n}\n\nfunction ShowWelcome({ state, dispatch }: PanelProps): JSX.Element {\n  return (\n    <div\n      className=\"absolute right-0 bottom-0 top-0 flex flex-column items-center justify-center\"\n      style={{ left: '16rem' }}  >  \n      <div className=\"mw6 lh-copy mb4\">\n        <Music32 />\n        <div className=\"f3 fw7 mb2\">Welcome to the case study.</div>\n        <div className=\"f4 mb3\">\n          Select an instrument and a visualizer on the left to serve some fresh beats.\n        </div>\n        {/* <div className=\"f5\">The UI is yours to design. Express yourself.</div> */}\n      </div>\n    </div>\n  );\n}\n\nfunction ShowSongs({ state, dispatch }: PanelProps) : JSX.Element {\n\n  const oscillators: List<OscillatorType> = List([\n    'sine',\n    'sawtooth',\n    'square',\n    'triangle',\n    'fmsine',\n    'fmsawtooth',\n    'fmtriangle',\n    'amsine',\n    'amsawtooth',\n    'amtriangle',\n  ]) as List<OscillatorType>;\n\n\n  const [synth, setSynth] = useState(\n    new Tone.Synth({\n      oscillator: { type: 'amsawtooth' } as Tone.OmniOscillatorOptions,\n    }).toDestination(),\n  );\n  \n  const [search,setSearch] = useState(\"\");\n\n  const notes = state.get('notes');\n\n  const songs: List<any> = state.get('songs', List());\n  useEffect(() => {\n    if(search!==\"\")\n    {\n      dispatch(new DispatchAction('SEARCH_SONGS',{search,songs}));\n    }\n\n    if (notes && synth) {\n      let eachNote = notes.split(' ');\n      let noteObjs = eachNote.map((note: string, idx: number) => ({\n        idx,\n        time: `+${idx / 4}`,\n        note,\n        velocity: 1,\n      }));\n\n      new Tone.Part((time, value) => {\n        // the value is an object which contains both the note and the velocity\n        synth.triggerAttackRelease(value.note, '4n', time, value.velocity);\n        if (value.idx === eachNote.length - 1) {\n          dispatch(new DispatchAction('STOP_SONG'));\n        }\n      }, noteObjs).start(0);\n\n      Tone.Transport.start();\n\n      return () => {\n        Tone.Transport.cancel();\n      };\n    }\n\n    return () => {};\n  }, [notes, synth, search, songs, dispatch]);\n\n  const setOscillator = (newType: Tone.ToneOscillatorType) => {\n    setSynth(oldSynth => {\n      oldSynth.disconnect();\n\n      return new Tone.Synth({\n        oscillator: { type: newType } as Tone.OmniOscillatorOptions,\n      }).toDestination();\n    });\n  };\n\n\n  const FilteredSongs : List<any> = state.get('FilteredSongs',List());\n  return(\n    <div>\n      <input  className=\"input-reset ba b--black-20 pa2 mb2 db w-100\" placeholder=\"Enter Song Title\"  value={search} onChange={(value)=>{\n        setSearch(value.target.value);\n      }}></input>\n    <div \n    style={{\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between'\n    }}\n    >\n      <div style={{\n        marginTop: '5%',\n      }}>  Search Results by Song Tittle\n      {\n       FilteredSongs !== undefined ?\n       FilteredSongs.map(song=>{\n         return(\n           <div\n           className=\"f6 pointer underline items-center no-underline i dim\"\n            onClick={()=>{\n            dispatch(new DispatchAction('PLAY_SONG', { id: song.get('id') }))\n           }}>\n             {\n               song.get('songTitle')\n             }\n             </div>\n         )\n       }) : null\n\n}\n</div> \n<div style={{\n        marginTop: '5%',\n      }}>\n        Oscillators List\n        {oscillators.map(o => (\n          <div\n          className=\"f6 pointer underline items-center no-underline i dim\"\n          onClick={() => setOscillator(o)}\n          style={{\n            margin: '1%'\n          }}\n          >\n            {\n              o\n            }\n            </div>\n        ))}\n      </div>\n    </div>\n    </div>\n  )\n}\n\n/** ------------------------------------------------------------------------ **\n * Main page component\n ** ------------------------------------------------------------------------ */\n\nexport function MainPage({ state, dispatch }: PanelProps): JSX.Element {\n  /**\n   * This React component bundles together the entire main page.\n   */\n\n  const location = useLocation();\n  const isWelcome = !state.get('instrument');\n  console.log('INSTRUMENT', isWelcome);\n\n  useEffect(() => {\n    dispatch(new DispatchAction('SET_LOCATION', { location }));\n  }, [dispatch, location]);\n\n  return (\n    <div\n      className=\"fixed top-0 left-0 h-100 w-100 bg-white\"\n      onClick={() => Tone.start()}\n    >\n      <SideNav state={state} dispatch={dispatch} />\n      {isWelcome ? (\n        <ShowWelcome state={state} dispatch={dispatch}/>\n      ) : (\n        <InstrumentAndVisualizer state={state} dispatch={dispatch} />\n      )}\n    </div>\n  );\n}\n\n","// 3rd party library imports\nimport * as Tone from 'tone';\nimport classNames from 'classnames';\nimport { List, Range } from 'immutable';\nimport React from 'react';\n\n// project imports\nimport { Instrument, InstrumentProps } from '../Instruments';\n\n/** ------------------------------------------------------------------------ **\n * Contains implementation of components for Piano.\n ** ------------------------------------------------------------------------ */\n\ninterface PianoKeyProps {\n  note: string; // C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B\n  duration?: string;\n  synth?: Tone.Synth; // Contains library code for making sound\n  minor?: boolean; // True if minor key, false if major key\n  octave: number;\n  index: number; // octave + index together give a location for the piano key\n}\n\nexport function PianoKey({\n  note,\n  synth,\n  minor,\n  index,\n}: PianoKeyProps): JSX.Element {\n  /**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */\n  return (\n    // Observations:\n    // 1. The JSX refers to the HTML-looking syntax within TypeScript.\n    // 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n    // 3. The curly braces `{` and `}` should remind you of string interpolation.\n    <div\n      onMouseDown={() => synth?.triggerAttack(`${note}`)} // Question: what is `onMouseDown`?\n      onMouseUp={() => synth?.triggerRelease('+0.25')} // Question: what is `onMouseUp`?\n      className={classNames('ba pointer absolute dim', {\n        'bg-black black h3': minor, // minor keys are black\n        'black bg-white h4': !minor, // major keys are white\n      })}\n      style={{\n        // CSS\n        top: 0,\n        left: `${index * 2}rem`,\n        zIndex: minor ? 1 : 0,\n        width: minor ? '1.5rem' : '2rem',\n        marginLeft: minor ? '0.25rem' : 0,\n      }}\n    ></div>\n  );\n}\n\n// eslint-disable-next-line\nfunction PianoKeyWithoutJSX({\n  note,\n  synth,\n  minor,\n  index,\n}: PianoKeyProps): JSX.Element {\n  /**\n   * This React component for pedagogical purposes.\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\n   */\n  return React.createElement(\n    'div',\n    {\n      onMouseDown: () => synth?.triggerAttack(`${note}`),\n      onMouseUp: () => synth?.triggerRelease('+0.25'),\n      className: classNames('ba pointer absolute dim', {\n        'bg-black black h3': minor,\n        'black bg-white h4': !minor,\n      }),\n      style: {\n        top: 0,\n        left: `${index * 2}rem`,\n        zIndex: minor ? 1 : 0,\n        width: minor ? '1.5rem' : '2rem',\n        marginLeft: minor ? '0.25rem' : 0,\n      },\n    },\n    [],\n  );\n}\n\nfunction PianoType({ title, onClick, active }: any): JSX.Element {\n  return (\n    <div\n      onClick={onClick}\n      className={classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1', {\n        'b--black black': active,\n        'gray b--light-gray': !active,\n      })}\n    >\n      {title}\n    </div>\n  );\n}\n\nfunction Piano({ synth, setSynth }: InstrumentProps): JSX.Element {\n  const keys = List([\n    { note: 'C', idx: 0 },\n    { note: 'Db', idx: 0.5 },\n    { note: 'D', idx: 1 },\n    { note: 'Eb', idx: 1.5 },\n    { note: 'E', idx: 2 },\n    { note: 'F', idx: 3 },\n    { note: 'Gb', idx: 3.5 },\n    { note: 'G', idx: 4 },\n    { note: 'Ab', idx: 4.5 },\n    { note: 'A', idx: 5 },\n    { note: 'Bb', idx: 5.5 },\n    { note: 'B', idx: 6 },\n  ]);\n\n  const setOscillator = (newType: Tone.ToneOscillatorType) => {\n    setSynth(oldSynth => {\n      oldSynth.disconnect();\n\n      return new Tone.Synth({\n        oscillator: { type: newType } as Tone.OmniOscillatorOptions,\n      }).toDestination();\n    });\n  };\n\n  const oscillators: List<OscillatorType> = List([\n    'sine',\n    'sawtooth',\n    'square',\n    'triangle',\n    'fmsine',\n    'fmsawtooth',\n    'fmtriangle',\n    'amsine',\n    'amsawtooth',\n    'amtriangle',\n  ]) as List<OscillatorType>;\n\n  return (\n    <div className=\"pv4\">\n      <div className=\"relative dib h4 w-100 ml4\">\n        {Range(2, 7).map(octave =>\n          keys.map(key => {\n            const isMinor = key.note.indexOf('b') !== -1;\n            const note = `${key.note}${octave}`;\n            return (\n              <PianoKey\n                key={note} //react key\n                note={note}\n                synth={synth}\n                minor={isMinor}\n                octave={octave}\n                index={(octave - 2) * 7 + key.idx}\n              />\n            );\n          }),\n        )}\n      </div>\n      <div className={'pl4 pt4 flex'}>\n        {oscillators.map(o => (\n          <PianoType\n            key={o}\n            title={o}\n            onClick={() => setOscillator(o)}\n            active={synth?.oscillator.type === o}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport const PianoInstrument = new Instrument('Piano', Piano);\n\n","// 3rd party library imports\nimport P5 from 'p5';\nimport * as Tone from 'tone';\n\n// project imports\nimport { Visualizer } from '../Visualizers';\n\n\nexport const WaveformVisualizer = new Visualizer(\n  'Waveform',\n  (p5: P5, analyzer: Tone.Analyser) => {\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n    const dim = Math.min(width, height);\n\n    p5.background(0, 0, 0, 255);\n\n    p5.strokeWeight(dim * 0.01);\n    p5.stroke(255, 255, 255, 255);\n    p5.noFill();\n\n    const values = analyzer.getValue();\n    p5.beginShape();\n    for (let i = 0; i < values.length; i++) {\n      const amplitude = values[i] as number;\n      const x = p5.map(i, 0, values.length - 1, 0, width);\n      const y = height / 2 + amplitude * height;\n      // Place vertex\n      p5.vertex(x, y);\n    }\n    p5.endShape();\n  },\n);\n","/*\n    Author: Jasmine Jahan\n    GitHub Handle: jasjahan\n    JasJahan_3D.tsx: Adding a 3D Shape Visualizer\n*/\n\nimport P5 from 'p5';\nimport * as Tone from 'tone';\n\nimport { Visualizer } from '../Visualizers';\n\nexport const BoxVisualizer = new Visualizer(\n        '3D Shape',\n        (p5: P5, analyzer: Tone.Analyser) => {\n          const width = window.innerWidth;\n          const height = window.innerHeight / 2;\n\n          p5.background(\"black\"); \n          let values = analyzer.getValue();\n          let locX = p5.mouseX - height / 2;\n          let locY = p5.mouseY - width / 2;\n          p5.ambientLight(50);\n          p5.directionalLight(255, 0, 0, 0.25, 0.25, 0);\n          p5.pointLight(0, 0, 255, locX, locY, 250);\n\n          p5.beginShape();     \n          p5.rotateZ(p5.frameCount * 0.02);\n          p5.rotateX(p5.frameCount * 0.02);\n          p5.specularMaterial(250);\n          p5.translate(-width /10,0,0);\n          for (let i = 0; i < values.length; i++) {  \n            let amplitude = values[i] as number;\n            let x = p5.map(i, 0, values.length -1, 0, amplitude * height) + width;\n            let y = (  height / 2 + amplitude * width) + height;     \n            // p5.translate(width/15, 0, 0); \n            p5.push();\n            p5.box(x *.07, y *.15 , 100);\n            p5.pop(); \n          }\n     \n         p5.endShape();\n        } \n        \n      );\n","/*\n    Author: Thao Ho\n    GitHub Handle: thaoHo618\n\n    thaoHo618.tsx: Adding a circle waveform visualizer\n*/\n\n// 3rd party library imports\nimport P5 from 'p5';\nimport * as Tone from 'tone';\n\n// project imports\nimport { Visualizer } from '../Visualizers';\n\nexport const CircleVisualizer = new Visualizer(\n    'Circle Waveform',\n    (p5: P5, analyzer: Tone.Analyser) => {\n    \n        const width = window.innerWidth;\n        const height = window.innerHeight / 2;\n        const dim = Math.min(width, height);\n        \n        p5.angleMode('degrees');\n        \n        p5.background(0, 0, 0, 255); // sets background color\n        p5.stroke(255, 0, 127);  // sets border color\n        p5.strokeWeight(dim * 0.02); // sets border thickness \n        p5.noFill(); // disables filling geometry\n        p5.translate (width/2.5, height/2 ); // sets location of the object\n        const values = analyzer.getValue(); \n\n        p5.beginShape();\n        for ( var i = 0 ; i <= 180; i++) { // creating the first half of the circle, thus <= 180\n            var index = p5.floor(p5.map(i, 0, 180, 0, values.length - 1));\n\n            // using the index to map the radius of the circle to the waveform.\n            var r = p5.map(values[index] as number, -1, 1, 150, 300); // 150 and 350 are min and max radius of circle respectively                \n            \n            var x =  r * p5.sin(i);\n            var y =  r * p5.cos(i) ;\n            p5.vertex(x, y);\n        }\n        p5.endShape();\n\n        \n        p5.beginShape();\n        // eslint-disable-next-line\n        for ( var i = 0 ; i <= 180; i++) { // creating the mirror of the first half\n            // eslint-disable-next-line\n            var index = p5.floor(p5.map(i, 0, 180, 0, values.length - 1));\n\n            // using the index to map the radius of the circle to the waveform.\n            // eslint-disable-next-line\n            var r = p5.map(values[index] as number, -1, 1, 150, 300);            \n            \n            // eslint-disable-next-line\n            var x =  r * (-p5.sin(i)); // Added a negative sign to create a mirrored image of the circle\n            // eslint-disable-next-line\n            var y =  r * p5.cos(i) ;\n            p5.vertex(x, y);\n        }\n        p5.endShape();\n    },\n  );","/*\n    Author: Saptarshi Roy\n    GitHub Handle: sroy97\n\n    sroy97.tsx: string waveform visualizer\n*/\n\n// 3rd party library imports\nimport P5 from 'p5';\nimport * as Tone from 'tone';\n\n// project imports\nimport { Visualizer } from '../Visualizers';\n\nexport const EllipticalVisualizer = new Visualizer(\n    'Elliptical Nebular Waveform',\n    (p5: P5, analyzer: Tone.Analyser) => {\n    \n        const width = window.innerWidth;\n        const height = window.innerHeight / 2;\n        \n        p5.background(0, 0, 0, 210); \n        p5.stroke(255,0,127);\n        p5.strokeWeight(3) \n        p5.noFill(); \n\n        const values = analyzer.getValue(); \n\n        p5.beginShape();\n\n        values.forEach((val, i) => {\n          const amp = values[i] as number\n          p5.ellipse(600, 200, 300 + width * amp, 150 + height * amp);\n          p5.ellipse(600, 200, 150 + height * amp, 300 + width * amp);\n        });\n\n        p5.endShape();\n\n    },\n  );\n","// 3rd party library imports\nimport P5 from 'p5';\nimport * as Tone from 'tone';\n\n// project imports\nimport { Visualizer } from '../Visualizers';\n\nexport const BarCircleVisualizer = new Visualizer(\n  '3D Waveform',\n  (p5: P5, analyzer: Tone.Analyser) => {\n\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n\n      p5.background(250, 250, 250, 255);\n\n      const values = analyzer.getValue();\n      p5.beginShape();\n      p5.rotateY(p5.frameCount * 0.01);\n      p5.rotateX(p5.frameCount*0.01);\n      let startx=0;\n      let starty=0;\n      let startz=0;\n      for (let i = 0; i < values.length; i++) {\n        const amplitude = values[i] as number;\n        const x = p5.map(i, 0, values.length - 1, 0, width)-width/2;\n        const y = (height / 2 + amplitude * height)-height/2;\n        // Place vertex\n        if(i%2===0)\n        {\n        p5.translate(x-startx,y-starty,(0.1*i)-startz);\n        startz=i*0.1;\n        }\n        else\n        {\n            p5.translate(x-startx,y-starty,(-0.1*i)-startz);\n            startz=i*-0.1;\n        }\n        p5.push();\n      p5.sphere(8, 6, 4);\n      p5.pop();\n      startx=x;\n      starty=y;\n      }\n      p5.endShape();\n    }\n\n   // p5.endShape();\n\n);\n","// 3rd party\nimport { List, Map } from 'immutable';\nimport { DrumsInstrument } from './instruments/KshitizSareen';\nimport { WindInstruments } from './instruments/sroy97';\n\n// project dependencies\nimport { PianoInstrument} from './instruments/Piano';\nimport { XylophoneInstrument } from './instruments/JasJahan';\nimport { KalimbaInstrument } from './instruments/thaoHo618';\nimport { WaveformVisualizer } from './visualizers/Waveform';\nimport { BoxVisualizer } from './visualizers/JasJahan_3D';\n\n\nimport { CircleVisualizer } from './visualizers/thaoHo618'; \nimport { EllipticalVisualizer } from './visualizers/sroy97';\nimport { BarCircleVisualizer} from './visualizers/KshitizSareen';\n/** ------------------------------------------------------------------------ **\n * The entire application state is stored in AppState.\n ** ------------------------------------------------------------------------ */\n\n/**\n * Observation: pure map (compare and contrast with impure map)\n *\n * 'instrument': Instrument\n * 'visualizer': Visualizer\n */\nexport type AppState = Map<string, any>;\n\n\nconst instruments = List([PianoInstrument]);\nconst visualizers = List([WaveformVisualizer,CircleVisualizer,EllipticalVisualizer,BarCircleVisualizer,BoxVisualizer]);\nexport const defaultState: AppState = Map<string, any>({\n  instruments,\n  visualizers,\n});\n","import { io as newSocket, Socket as SocketIO } from 'socket.io-client';\n\nconst SOCKET_URL = 'ws://localhost:3000';\n\nconst SOCKET_OPTS = {\n  transports: ['websocket'],\n  path: '/ws',\n  autoConnect: true,\n  reconnection: true,\n  timeout: 10000,\n};\n\nlet idCounter = 1;\n\nexport async function send(\n  socket: Socket,\n  name: string,\n  msg: any,\n): Promise<any> {\n  const _id = idCounter++;\n\n  return new Promise((resolve, reject) => {\n    socket.once(`${name}.${_id}`, resp => {\n      const { error, ...success } = resp;\n      if (success) {\n        resolve(success);\n      } else {\n        reject(error);\n      }\n    });\n    socket.emit(name, { _id, ...msg });\n  });\n}\n\n\nexport type Socket = SocketIO;\n\nexport function initializeSocket(\n  onConnect: (socket: Socket) => void,\n  onDisconnect: () => void,\n): Socket {\n  const socket = newSocket(SOCKET_URL, SOCKET_OPTS);\n\n  socket.on('connect', () => {});\n  socket.on('disconnect', onDisconnect);\n\n  return socket;\n}\n","// 3rd party library imports\nimport { useReducer, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\n// project imports\nimport { MainPage } from './MainPage';\nimport { DispatchAction, appReducer } from './Reducer';\nimport { defaultState } from './State';\nimport { initializeSocket, send } from './Socket';\n\n\n\n// css imports\nimport 'animate.css';\nimport React from 'react';\n\n/** ------------------------------------------------------------------------ **\n * App component\n ** ------------------------------------------------------------------------ */\n\nfunction App() {\n  const [state, dispatch] = useReducer(appReducer, defaultState);\n\n  useEffect(() => {\n    initializeSocket(\n      async socket => {\n      },\n      () => {\n        dispatch(new DispatchAction('DELETE_SOCKET'));\n      },\n    );\n  }, []);\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/CSC-600-Website\">\n          <MainPage state={state} dispatch={dispatch} />\n        </Route>\n        <Route path=\"/:instrument\">\n          <MainPage state={state} dispatch={dispatch} />\n        </Route>\n        <Route path=\"*\">\n          <div>404</div>\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// 3rd party library imports\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// project imports\nimport App from './App';\n\n// CSS\nimport './index.css';\nimport './tachyons.css';\n\n\n/** ------------------------------------------------------------------------ **\n * Entry point.\n ** ------------------------------------------------------------------------ */\n\nfunction onReactLoaded() {\n  console.log('React has loaded.');\n}\n\nconst rootEl = document.getElementById('root');\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootEl,  // Insert into DOM here\n  onReactLoaded,\n);\n"]}}