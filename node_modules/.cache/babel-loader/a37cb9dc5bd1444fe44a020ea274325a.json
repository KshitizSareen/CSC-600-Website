{"ast":null,"code":"// 3rd party library imports\n// project imports\nimport { Visualizer } from '../Visualizers';\nexport const BarCircleVisualizer = new Visualizer('3D Waveform', (p5, analyzer) => {\n  const width = window.innerWidth;\n  const height = window.innerHeight / 2;\n  p5.background(250, 250, 250, 255);\n  const values = analyzer.getValue();\n  p5.beginShape();\n  p5.rotateY(p5.frameCount * 0.01);\n  p5.rotateX(p5.frameCount * 0.01);\n  let startx = 0;\n  let starty = 0;\n  let startz = 0;\n\n  for (let i = 0; i < values.length; i++) {\n    const amplitude = values[i];\n    const x = p5.map(i, 0, values.length - 1, 0, width) - width / 2;\n    const y = height / 2 + amplitude * height - height / 2; // Place vertex\n\n    if (i % 2 === 0) {\n      p5.translate(x - startx, y - starty, 0.1 * i - startz);\n      startz = i * 0.1;\n    } else {\n      p5.translate(x - startx, y - starty, -0.1 * i - startz);\n      startz = i * -0.1;\n    }\n\n    p5.push();\n    p5.sphere(8, 6, 4);\n    p5.pop();\n    startx = x;\n    starty = y;\n  }\n\n  p5.endShape();\n} // p5.endShape();\n);","map":{"version":3,"sources":["/Users/kshitiz/Downloads/final-project-tornado-main/client/src/visualizers/KshitizSareen.tsx"],"names":["Visualizer","BarCircleVisualizer","p5","analyzer","width","window","innerWidth","height","innerHeight","background","values","getValue","beginShape","rotateY","frameCount","rotateX","startx","starty","startz","i","length","amplitude","x","map","y","translate","push","sphere","pop","endShape"],"mappings":"AAAA;AAIA;AACA,SAASA,UAAT,QAA2B,gBAA3B;AAEA,OAAO,MAAMC,mBAAmB,GAAG,IAAID,UAAJ,CACjC,aADiC,EAEjC,CAACE,EAAD,EAASC,QAAT,KAAqC;AAEnC,QAAMC,KAAK,GAAGC,MAAM,CAACC,UAArB;AACA,QAAMC,MAAM,GAAGF,MAAM,CAACG,WAAP,GAAqB,CAApC;AAEEN,EAAAA,EAAE,CAACO,UAAH,CAAc,GAAd,EAAmB,GAAnB,EAAwB,GAAxB,EAA6B,GAA7B;AAEA,QAAMC,MAAM,GAAGP,QAAQ,CAACQ,QAAT,EAAf;AACAT,EAAAA,EAAE,CAACU,UAAH;AACAV,EAAAA,EAAE,CAACW,OAAH,CAAWX,EAAE,CAACY,UAAH,GAAgB,IAA3B;AACAZ,EAAAA,EAAE,CAACa,OAAH,CAAWb,EAAE,CAACY,UAAH,GAAc,IAAzB;AACA,MAAIE,MAAM,GAAC,CAAX;AACA,MAAIC,MAAM,GAAC,CAAX;AACA,MAAIC,MAAM,GAAC,CAAX;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,MAAM,CAACU,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtC,UAAME,SAAS,GAAGX,MAAM,CAACS,CAAD,CAAxB;AACA,UAAMG,CAAC,GAAGpB,EAAE,CAACqB,GAAH,CAAOJ,CAAP,EAAU,CAAV,EAAaT,MAAM,CAACU,MAAP,GAAgB,CAA7B,EAAgC,CAAhC,EAAmChB,KAAnC,IAA0CA,KAAK,GAAC,CAA1D;AACA,UAAMoB,CAAC,GAAIjB,MAAM,GAAG,CAAT,GAAac,SAAS,GAAGd,MAA1B,GAAkCA,MAAM,GAAC,CAAnD,CAHsC,CAItC;;AACA,QAAGY,CAAC,GAAC,CAAF,KAAM,CAAT,EACA;AACAjB,MAAAA,EAAE,CAACuB,SAAH,CAAaH,CAAC,GAACN,MAAf,EAAsBQ,CAAC,GAACP,MAAxB,EAAgC,MAAIE,CAAL,GAAQD,MAAvC;AACAA,MAAAA,MAAM,GAACC,CAAC,GAAC,GAAT;AACC,KAJD,MAMA;AACIjB,MAAAA,EAAE,CAACuB,SAAH,CAAaH,CAAC,GAACN,MAAf,EAAsBQ,CAAC,GAACP,MAAxB,EAAgC,CAAC,GAAD,GAAKE,CAAN,GAASD,MAAxC;AACAA,MAAAA,MAAM,GAACC,CAAC,GAAC,CAAC,GAAV;AACH;;AACDjB,IAAAA,EAAE,CAACwB,IAAH;AACFxB,IAAAA,EAAE,CAACyB,MAAH,CAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB;AACAzB,IAAAA,EAAE,CAAC0B,GAAH;AACAZ,IAAAA,MAAM,GAACM,CAAP;AACAL,IAAAA,MAAM,GAACO,CAAP;AACC;;AACDtB,EAAAA,EAAE,CAAC2B,QAAH;AACD,CAtC8B,CAwChC;AAxCgC,CAA5B","sourcesContent":["// 3rd party library imports\nimport P5 from 'p5';\nimport * as Tone from 'tone';\n\n// project imports\nimport { Visualizer } from '../Visualizers';\n\nexport const BarCircleVisualizer = new Visualizer(\n  '3D Waveform',\n  (p5: P5, analyzer: Tone.Analyser) => {\n\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n\n      p5.background(250, 250, 250, 255);\n\n      const values = analyzer.getValue();\n      p5.beginShape();\n      p5.rotateY(p5.frameCount * 0.01);\n      p5.rotateX(p5.frameCount*0.01);\n      let startx=0;\n      let starty=0;\n      let startz=0;\n      for (let i = 0; i < values.length; i++) {\n        const amplitude = values[i] as number;\n        const x = p5.map(i, 0, values.length - 1, 0, width)-width/2;\n        const y = (height / 2 + amplitude * height)-height/2;\n        // Place vertex\n        if(i%2===0)\n        {\n        p5.translate(x-startx,y-starty,(0.1*i)-startz);\n        startz=i*0.1;\n        }\n        else\n        {\n            p5.translate(x-startx,y-starty,(-0.1*i)-startz);\n            startz=i*-0.1;\n        }\n        p5.push();\n      p5.sphere(8, 6, 4);\n      p5.pop();\n      startx=x;\n      starty=y;\n      }\n      p5.endShape();\n    }\n\n   // p5.endShape();\n\n);\n"]},"metadata":{},"sourceType":"module"}