(this.webpackJsonplambdavibe=this.webpackJsonplambdavibe||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(60),s=n.n(r),c=n(3),o=n.n(c),l=n(6),u=n(7),d=n(32),b=n(11),m=n(8),v=n(123),j=n(2),h=n(10),p=function e(t,n){Object(j.a)(this,e),this.type=void 0,this.args=void 0,this.type=t,this.args=Object(h.d)(n)};function f(e,t){var n=t.type,a=t.args;console.debug("".concat(n));var i=function(){switch(n){case"SET_SOCKET":var t=e.get("socket");return t&&t.close(),e.set("socket",a.get("socket"));case"DELETE_SOCKET":return e.delete("socket");case"SET_SONGS":var i=a.get("songs");return e.set("songs",i);case"PLAY_SONG":var r=e.get("songs").find((function(e){return e.get("id")===a.get("id")})).get("notes");return e.set("notes",r);case"STOP_SONG":return e.delete("notes");case"SET_LOCATION":var s,c=a.getIn(["location","pathname"],""),o=a.getIn(["location","search"],""),l=c.substring(1),u=null!==(s=new URLSearchParams(o.substring(1)).get("visualizer"))&&void 0!==s?s:"",d=e.get("instruments"),b=e.get("visualizers"),m=d.find((function(e){return e.name===l})),v=b.find((function(e){return e.name===u}));return e.set("instrument",m).set("visualizer",v);case"SHOW_SONG_DETAILS":var j=a.get("SongDetail");return e.set("SongDetail",j);case"SET_ALBUMS":var p=a.get("albums",Object(h.a)());return e.set("Albums",p);case"SET_ALBUM_SONGS":var f=a.get("Albums",Object(h.a)()),g=a.get("index",Number);return e.set("FilteredSongs",f.get(g).get("songs"));case"SET_GENRES":var O=a.get("genres",Object(h.a)());return e.set("Genres",O);case"SET_GENRE_SONGS":var x=a.get("Genres",Object(h.a)()),w=a.get("index",Number);return e.set("FilteredSongs",x.get(w).get("songs"));case"SEARCH_SONGS":var S=a.get("search",String()),y=a.get("songs",Object(h.a)()),N=[];return y.forEach((function(e){e.get("songTitle").toLowerCase().trim().includes(S.toLowerCase().trim())&&N.push(e)})),e.set("FilteredSongs",N);default:return console.error("type unknown: ".concat(n,"\n"),a.toJS()),e}}();return console.debug(i.update("socket",(function(e){return e?"[socket]":e})).toJS()),i}var g=n(5),O=function e(t,n){Object(j.a)(this,e),this.name=void 0,this.component=void 0,this.name=t,this.component=n};function x(e){var t=e.name;return Object(g.jsx)("div",{className:"w-100 h3 bb b--light-gray flex justify-between items-center ph4",children:Object(g.jsx)("div",{children:t})})}var w=function(e){var t=e.instrument,n=e.state,i=e.dispatch,r=t.component,s=Object(a.useState)(new m.g({oscillator:{type:"sine"}}).toDestination()),c=Object(u.a)(s,2),o=c[0],l=c[1],d=n.get("notes");return Object(a.useEffect)((function(){if(d&&o){var e=d.split(" "),t=e.map((function(e,t){return{idx:t,time:"+".concat(t/4),note:e,velocity:1}}));return new m.b((function(t,n){o.triggerAttackRelease(n.note,"4n",t,n.velocity),n.idx===e.length-1&&i(new p("STOP_SONG"))}),t).start(0),m.h.start(),function(){m.h.cancel()}}return function(){}}),[d,o,i]),Object(g.jsxs)("div",{children:[Object(g.jsx)(x,{name:t.name}),Object(g.jsx)("div",{className:"bg-white absolute right-0 left-0",style:{top:"4rem"},children:Object(g.jsx)(r,{name:t.name,state:n,dispatch:i,synth:o,setSynth:l})})]})},S=n(27),y=n.n(S),N=n(122),k=n(4),_=n(21),C=n(61),E=["error"],D={transports:["websocket"],path:"/ws",autoConnect:!0,reconnection:!0,timeout:1e4},T=1;function G(e,t,n){return W.apply(this,arguments)}function W(){return(W=Object(l.a)(o.a.mark((function e(t,n,a){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=T++,e.abrupt("return",new Promise((function(e,r){t.once("".concat(n,".").concat(i),(function(t){var n=t.error,a=Object(_.a)(t,E);a?e(a):r(n)})),t.emit(n,Object(k.a)({_id:i},a))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=function(e){var t=e.title,n=e.children;return Object(g.jsxs)("div",{className:"flex flex-column h-25 bb b--light-gray pa3",children:[Object(g.jsxs)("div",{className:"fw7 mb2",children:[t," "]}),Object(g.jsx)("div",{className:"flex-auto overflow-scroll",children:n})]})};function A(e){var t=e.to,n=e.text,a=e.active,i=e.onClick;return Object(g.jsx)(d.b,{to:t,className:"no-underline",children:Object(g.jsxs)("div",{className:y()("f6 flex items-center black",{fw7:a}),onClick:i,children:[a?Object(g.jsx)(N.b,{className:"mr1"}):Object(g.jsx)(N.a,{className:"mr1"}),Object(g.jsx)("div",{className:"dim",children:n})]})})}function R(e){var t,n=e.state,a=n.get("instruments"),i=null===(t=n.get("instrument"))||void 0===t?void 0:t.name,r=Object(b.f)();return Object(g.jsx)(I,{title:"Instruments",children:a.map((function(e){return Object(g.jsx)(A,{to:"/".concat(e.name).concat(r.search),text:e.name,active:e.name===i,onClick:function(){return console.log(e.name)}},e.name)}))})}function L(e){var t,n=e.state,a=n.get("visualizers"),i=null===(t=n.get("visualizer"))||void 0===t?void 0:t.name,r=Object(b.f)();return Object(g.jsx)(I,{title:"Visualizers",children:a.map((function(e){return Object(g.jsx)(A,{to:{pathname:r.pathname,search:"?visualizer=".concat(e.name)},text:e.name,active:e.name===i,onClick:function(){return console.log(e.name)}},e.name)}))})}function B(e){var t=e.state,n=e.dispatch;function a(e){return i.apply(this,arguments)}function i(){return(i=Object(l.a)(o.a.mark((function e(a){var i,r,s,c,l,u,d,b,m,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.get("socket"),e.next=3,G(i,"get_song_details",{});case 3:for(r=e.sent,s=r.SongDetails,c=a.get("fkGenreid"),l=a.get("fkAlbumid"),u=a.get("fkArtistid"),d="",b="",m="",v=0;v<s.length;v++)s[v].genreId===c&&(d=s[v].genreDescription),s[v].albumId===l&&(b=s[v].albumTitle),s[v].artistId===u&&(m=s[v].artistName);n(new p("SHOW_SONG_DETAILS",{SongDetail:{genre:d,album:b,artist:m}}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var r=t.get("songs",Object(h.a)());return Object(g.jsx)(I,{title:"Playlist",children:r.map((function(e){return Object(g.jsxs)("div",{className:"f6 pointer underline flex items-center no-underline i dim",onClick:Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(new p("PLAY_SONG",{id:e.get("id")})),a(e);case 2:case"end":return t.stop()}}),t)}))),children:[Object(g.jsx)(v.a,{className:"mr1"}),e.get("songTitle")]},e.get("id"))}))})}function z(e){var t=e.state,n=(e.dispatch,t.get("SongDetail"));return Object(g.jsxs)(I,{title:"Song Details",children:[Object(g.jsx)("div",{children:void 0!==n?n.get("genre"):""}),Object(g.jsx)("div",{children:void 0!==n?n.get("album"):""}),Object(g.jsx)("div",{children:void 0!==n?n.get("artist"):""})]})}function K(e){var t=e.state,n=e.dispatch,a=t.get("Albums",Object(h.a)());return Object(g.jsx)(I,{title:"Albums",children:a.map((function(e,t){return Object(g.jsx)("div",{className:"f6 pointer underline items-center no-underline i dim",onClick:function(){n(new p("SET_ALBUM_SONGS",{index:t,Albums:a}))},children:e.get("albumTitle")},e.get("albumID"))}))})}function X(e){var t=e.state,n=e.dispatch,a=t.get("Genres",Object(h.a)());return Object(g.jsx)(I,{title:"Genres",children:a.map((function(e,t){return Object(g.jsx)("div",{className:"f6 pointer underline items-center no-underline i dim",onClick:function(){n(new p("SET_GENRE_SONGS",{index:t,Genres:a}))},children:e.get("genreDescription")},e.get("genreId"))}))})}function M(e){var t=e.state,n=e.dispatch;return Object(g.jsxs)("div",{className:"absolute top-0 left-0 bottom-0 w5 z-1 shadow-1 bg-white flex flex-column",children:[Object(g.jsx)("div",{className:"h3 fw7 f5 flex items-center pl3 bb b--light-gray",children:"Nameless App"}),Object(g.jsxs)("div",{className:"flex-auto",style:{overflow:"scroll"},children:[Object(g.jsx)(R,{state:t,dispatch:n}),Object(g.jsx)(L,{state:t,dispatch:n}),Object(g.jsx)(B,{state:t,dispatch:n}),Object(g.jsx)(z,{state:t,dispatch:n}),Object(g.jsx)(K,{state:t,dispatch:n}),Object(g.jsx)(X,{state:t,dispatch:n})]})]})}var H=n(63),F=n.n(H),P=function e(t,n){Object(j.a)(this,e),this.name=void 0,this.draw=void 0,this.name=t,this.draw=n};function V(e){var t=e.visualizer,n=t.name,i=t.draw,r=Object(a.useMemo)((function(){return new m.a("waveform",256)}),[]),s=Object(a.useCallback)((function(e){var t=window.innerWidth,n=window.innerHeight/2;e.resizeCanvas(t,n,!1)}),[]);Object(a.useEffect)((function(){return m.i().volume.value=-5,m.i().connect(r),function(){m.i().disconnect(r)}}),[r]);return Object(g.jsxs)("div",{className:"bg-black absolute bottom-0 right-0 left-0 h-50",children:[Object(g.jsx)("div",{className:"z-1 absolute left-0 top-0 pa4 white f5",children:n}),Object(g.jsx)(F.a,{setup:function(e,t){var a=window.innerWidth,i=window.innerHeight/2;"3D Waveform"!==n&&"3D Shape"!==n?e.createCanvas(a,i).parent(t):e.createCanvas(a,i,e.WEBGL).parent(t)},draw:function(e){return i(e,r)},windowResized:s})]})}function U(e){var t=e.state,n=e.dispatch,a=t.get("instrument");return Object(g.jsx)("div",{children:a&&Object(g.jsx)(w,{state:t,dispatch:n,instrument:a})})}function Y(e){var t=e.state.get("visualizer");return Object(g.jsx)("div",{children:t&&Object(g.jsx)(V,{visualizer:t},t.name)})}function J(e){var t=e.state,n=e.dispatch;return Object(g.jsxs)("div",{className:"absolute right-0 bottom-0 top-0 flex flex-column",style:{left:"16rem"},children:[Object(g.jsx)(U,{state:t,dispatch:n}),Object(g.jsx)(Y,{state:t,dispatch:n})]})}function q(e){var t=e.state,n=e.dispatch;return Object(g.jsx)("div",{className:"absolute right-0 bottom-0 top-0 flex flex-column items-center justify-center",style:{left:"16rem"},children:Object(g.jsxs)("div",{className:"mw6 lh-copy mb4",children:[Object(g.jsx)(v.b,{}),Object(g.jsx)("div",{className:"f3 fw7 mb2",children:"Welcome to the case study."}),Object(g.jsx)("div",{className:"f4 mb3",children:"Select an instrument and a visualizer on the left to serve some fresh beats."}),Object(g.jsx)(Z,{state:t,dispatch:n})]})})}function Z(e){var t=e.state,n=e.dispatch,i=Object(h.a)(["sine","sawtooth","square","triangle","fmsine","fmsawtooth","fmtriangle","amsine","amsawtooth","amtriangle"]),r=Object(a.useState)(new m.g({oscillator:{type:"amsawtooth"}}).toDestination()),s=Object(u.a)(r,2),c=s[0],o=s[1],l=Object(a.useState)(""),d=Object(u.a)(l,2),b=d[0],v=d[1],j=t.get("notes"),f=t.get("songs",Object(h.a)());Object(a.useEffect)((function(){if(""!==b&&n(new p("SEARCH_SONGS",{search:b,songs:f})),j&&c){var e=j.split(" "),t=e.map((function(e,t){return{idx:t,time:"+".concat(t/4),note:e,velocity:1}}));return new m.b((function(t,a){c.triggerAttackRelease(a.note,"4n",t,a.velocity),a.idx===e.length-1&&n(new p("STOP_SONG"))}),t).start(0),m.h.start(),function(){m.h.cancel()}}return function(){}}),[j,c,b,f,n]);var O=t.get("FilteredSongs",Object(h.a)());return Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{className:"input-reset ba b--black-20 pa2 mb2 db w-100",placeholder:"Enter Song Title",value:b,onChange:function(e){v(e.target.value)}}),Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(g.jsxs)("div",{style:{marginTop:"5%"},children:["  Search Results by Song Tittle",void 0!==O?O.map((function(e){return Object(g.jsx)("div",{className:"f6 pointer underline items-center no-underline i dim",onClick:function(){n(new p("PLAY_SONG",{id:e.get("id")}))},children:e.get("songTitle")})})):null]}),Object(g.jsxs)("div",{style:{marginTop:"5%"},children:["Oscillators List",i.map((function(e){return Object(g.jsx)("div",{className:"f6 pointer underline items-center no-underline i dim",onClick:function(){return t=e,void o((function(e){return e.disconnect(),new m.g({oscillator:{type:t}}).toDestination()}));var t},style:{margin:"1%"},children:e})}))]})]})]})}function Q(e){var t=e.state,n=e.dispatch,i=Object(b.f)(),r=!t.get("instrument");return console.log("INSTRUMENT",r),Object(a.useEffect)((function(){n(new p("SET_LOCATION",{location:i}))}),[n,i]),Object(g.jsxs)("div",{className:"fixed top-0 left-0 h-100 w-100 bg-white",onClick:function(){return m.j()},children:[Object(g.jsx)(M,{state:t,dispatch:n}),r?Object(g.jsx)(q,{state:t,dispatch:n}):Object(g.jsx)(J,{state:t,dispatch:n})]})}n(116);var $=new O("Drums",(function(){var e=["/drumsounds/clap.wav","/drumsounds/crash.wav","/drumsounds/open-hihat.wav","/drumsounds/kick.wav","/drumsounds/snare.wav","/drumsounds/closed-hihat.wav"],t=Object(a.useState)([{playBackRate:1,volume:1,reverb:0,steroe:.5},{playBackRate:1,volume:1,reverb:0,steroe:.5},{playBackRate:1,volume:1,reverb:0,steroe:.5},{playBackRate:1,volume:1,reverb:0,steroe:.5},{playBackRate:1,volume:1,reverb:0,steroe:.5},{playBackRate:1,volume:1,reverb:0,steroe:.5}]),n=Object(u.a)(t,2),i=n[0],r=n[1];return Object(g.jsx)("body",{tabIndex:0,children:Object(g.jsx)("div",{className:"drumkit",children:["clap.png","crash.png","open-hihat.png","kick.png","snare.png","closed-hihat.png"].map((function(t,n){return Object(g.jsxs)("div",{className:"padcontainer",children:[Object(g.jsx)("div",{className:"pad",onClick:function(){!function(t){var n=new m.d(e[t]);if(n.autostart=!0,n.playbackRate=i[t].playBackRate,0===i[t].volume?n.mute=!0:(n.mute=!1,n.volume.value=i[t].volume),0!==i[t].reverb){var a=new m.e(i[t].reverb).toDestination();n.connect(a)}if(i[t].steroe>=0){var r=new m.f(i[t].steroe/2).toDestination();n.connect(r)}n.toDestination()}(n)},children:Object(g.jsx)("img",{className:"icon",src:"/icons/"+t,alt:"clap"})}),Object(g.jsx)("label",{children:"Playback Rate"}),Object(g.jsx)("input",{type:"range",min:"0",max:"5",value:i[n].playBackRate,onChange:function(e){r(i.map((function(t,a){return a===n&&(t.playBackRate=Number.parseInt(e.target.value)),t})))}}),Object(g.jsx)("label",{children:"Volume"}),Object(g.jsx)("input",{type:"range",min:"0",max:"10",value:i[n].volume,onChange:function(e){r(i.map((function(t,a){return a===n&&(t.volume=Number.parseInt(e.target.value)),t})))}}),Object(g.jsx)("label",{children:"Reverb"}),Object(g.jsx)("input",{type:"range",min:"0",max:"10",value:i[n].reverb,onChange:function(e){r(i.map((function(t,a){return a===n&&(t.reverb=Number.parseInt(e.target.value)),t})))}}),Object(g.jsx)("label",{children:"Stereo"}),Object(g.jsx)("input",{type:"range",min:"0",step:1,max:"2",value:i[n].steroe,onChange:function(e){r(i.map((function(t,a){return a===n&&(t.steroe=Number.parseInt(e.target.value)),t})))}})]})}))})})}));n(117);var ee=new O("Wind Family",(function(){var e=["/WindSounds/clarinet.wav","/WindSounds/flute.wav","/WindSounds/horn.wav","/WindSounds/oboe.wav","/WindSounds/piccolo.wav","/WindSounds/sax.wav","/WindSounds/trombone.wav","/WindSounds/trumpet.wav","/WindSounds/tuba.wav"],t=Object(a.useState)([{volume:1,pitch:10,reverb:.45,stereo:.5},{volume:1,pitch:10,reverb:.45,stereo:.5},{volume:1,pitch:10,reverb:.45,stereo:.5},{volume:1,pitch:10,reverb:.45,stereo:.5},{volume:1,pitch:10,reverb:.45,stereo:.5},{volume:1,pitch:10,reverb:.45,stereo:.5},{volume:1,pitch:10,reverb:.75,stereo:.5},{volume:1,pitch:10,reverb:.75,stereo:.5},{volume:1,pitch:10,reverb:.75,stereo:.5}]),n=Object(u.a)(t,2),i=n[0],r=n[1];return Object(g.jsx)("body",{tabIndex:0,children:Object(g.jsx)("div",{className:"windkit",children:["clarinet.png","flute.png","horn.png","oboe.png","piccolo.png","saxophone.png","trombone.png","trumpet.png","tuba.png"].map((function(t,n){return Object(g.jsxs)("div",{className:"instrumentcontainer",children:[Object(g.jsx)("div",{className:"windinstrument",onClick:function(){!function(t){var n=new m.d(e[t]);if(n.autostart=!0,0===i[t].volume?n.mute=!0:(n.mute=!1,n.volume.value=i[t].volume),0!==i[t].pitch){var a=new m.c(i[t].pitch).toDestination();n.connect(a)}if(0!==i[t].reverb){var r=new m.e(i[t].reverb).toDestination();n.connect(r)}if(i[t].stereo>=0){var s=new m.f(i[t].stereo).toDestination();n.connect(s)}n.toDestination()}(n)},children:Object(g.jsx)("img",{className:"icon",src:"/WindIcons/"+t,alt:""})}),Object(g.jsx)("label",{children:"Volume"}),Object(g.jsx)("input",{type:"range",min:"0",max:"10",value:i[n].volume,onChange:function(e){r(i.map((function(t,a){return a===n&&(t.volume=Number.parseInt(e.target.value)),t})))}}),Object(g.jsx)("label",{children:"Pitch"}),Object(g.jsx)("input",{type:"range",min:"0",max:"10",value:i[n].pitch,onChange:function(e){r(i.map((function(t,a){return a===n&&(t.pitch=Number.parseInt(e.target.value)),t})))}}),Object(g.jsx)("label",{children:"Reverb"}),Object(g.jsx)("input",{type:"range",min:"0",max:"10",value:i[n].reverb,onChange:function(e){r(i.map((function(t,a){return a===n&&(t.reverb=Number.parseInt(e.target.value)),t})))}}),Object(g.jsx)("label",{children:"Stereo"}),Object(g.jsx)("input",{type:"range",min:"0",step:1,max:"2",value:i[n].stereo,onChange:function(e){r(i.map((function(t,a){return a===n&&(t.stereo=Number.parseInt(e.target.value)),t})))}})]})}))})})}));function te(e){var t=e.note,n=e.synth,a=e.minor,i=e.index;return Object(g.jsx)("div",{onMouseDown:function(){return null===n||void 0===n?void 0:n.triggerAttack("".concat(t))},onMouseUp:function(){return null===n||void 0===n?void 0:n.triggerRelease("+0.25")},className:y()("ba pointer absolute dim",{"bg-black black h3":a,"black bg-white h4":!a}),style:{top:0,left:"".concat(2*i,"rem"),zIndex:a?1:0,width:a?"1.5rem":"2rem",marginLeft:a?"0.25rem":0}})}function ne(e){var t=e.title,n=e.onClick,a=e.active;return Object(g.jsx)("div",{onClick:n,className:y()("dim pointer ph2 pv1 ba mr2 br1 fw7 bw1",{"b--black black":a,"gray b--light-gray":!a}),children:t})}var ae=new O("Piano",(function(e){var t=e.synth,n=e.setSynth,a=Object(h.a)([{note:"C",idx:0},{note:"Db",idx:.5},{note:"D",idx:1},{note:"Eb",idx:1.5},{note:"E",idx:2},{note:"F",idx:3},{note:"Gb",idx:3.5},{note:"G",idx:4},{note:"Ab",idx:4.5},{note:"A",idx:5},{note:"Bb",idx:5.5},{note:"B",idx:6}]),i=Object(h.a)(["sine","sawtooth","square","triangle","fmsine","fmsawtooth","fmtriangle","amsine","amsawtooth","amtriangle"]);return Object(g.jsxs)("div",{className:"pv4",children:[Object(g.jsx)("div",{className:"relative dib h4 w-100 ml4",children:Object(h.c)(2,7).map((function(e){return a.map((function(n){var a=-1!==n.note.indexOf("b"),i="".concat(n.note).concat(e);return Object(g.jsx)(te,{note:i,synth:t,minor:a,octave:e,index:7*(e-2)+n.idx},i)}))}))}),Object(g.jsx)("div",{className:"pl4 pt4 flex",children:i.map((function(e){return Object(g.jsx)(ne,{title:e,onClick:function(){return t=e,void n((function(e){return e.disconnect(),new m.g({oscillator:{type:t}}).toDestination()}));var t},active:(null===t||void 0===t?void 0:t.oscillator.type)===e},e)}))})]})})),ie=n(28),re=n.n(ie),se=n.p+"static/media/mallet.8a244a80.png";var ce=new O("Xylophone",(function(){var e=["/XyloSounds/c.wav","/XyloSounds/d1.wav","/XyloSounds/e1.wav","/XyloSounds/f.wav","/XyloSounds/g.wav","/XyloSounds/a.wav","/XyloSounds/b.wav","/XyloSounds/c2.wav"];return Object(g.jsx)("body",{tabIndex:0,children:Object(g.jsxs)("div",{className:re.a.page,children:[Object(g.jsx)("img",{src:se,width:300,height:250,alt:"NO IMG"}),["c","d1","e1","f","g","a","b","c2"].map((function(t,n,a){return Object(g.jsx)("div",{className:re.a.xylophone,children:Object(g.jsxs)("button",{className:re.a.playbutton,style:{height:200-15*n+"px"},onClick:function(){!function(t){var n=new m.d(e[t]);n.autostart=!0,n.toDestination()}(n)},children:[Object(g.jsx)("div",{className:re.a.circle}),t,Object(g.jsx)("div",{className:re.a.circle})]})})}))]})})})),oe=n(29),le=n.n(oe);var ue=new O("Kalimba",(function(){var e=["/KalimbaSounds/B.wav","/KalimbaSounds/G.wav","/KalimbaSounds/E.wav","/KalimbaSounds/C.wav","/KalimbaSounds/A.wav","/KalimbaSounds/F.wav","/KalimbaSounds/D.wav","/KalimbaSounds/C.wav"];function t(t){var n=new m.d(e[t]);n.autostart=!0,n.toDestination()}return Object(g.jsx)("body",{tabIndex:0,children:Object(g.jsxs)("div",{className:le.a.page,children:[["B","G","E","C","A","F","D","C"].map((function(e,n,a){return Object(g.jsx)("div",{className:le.a.kalimba,children:Object(g.jsxs)("button",{className:le.a.playbutton,style:{height:30*n*2+200},onClick:function(){t(n)},children:[Object(g.jsx)("div",{}),e,Object(g.jsx)("div",{})]})})})),["E","G","B","D","F","A","C"].map((function(e,n,a){return Object(g.jsx)("div",{className:le.a.kalimba,children:Object(g.jsxs)("button",{className:le.a.playbutton,style:{height:540-35*n*2},onClick:function(){t(n)},children:[Object(g.jsx)("div",{}),e,Object(g.jsx)("div",{})]})})}))]})})})),de=new P("Waveform",(function(e,t){var n=window.innerWidth,a=window.innerHeight/2,i=Math.min(n,a);e.background(0,0,0,255),e.strokeWeight(.01*i),e.stroke(255,255,255,255),e.noFill();var r=t.getValue();e.beginShape();for(var s=0;s<r.length;s++){var c=r[s],o=e.map(s,0,r.length-1,0,n),l=a/2+c*a;e.vertex(o,l)}e.endShape()})),be=new P("3D Shape",(function(e,t){var n=window.innerWidth,a=window.innerHeight/2;e.background("black");var i=t.getValue(),r=e.mouseX-a/2,s=e.mouseY-n/2;e.ambientLight(50),e.directionalLight(255,0,0,.25,.25,0),e.pointLight(0,0,255,r,s,250),e.beginShape(),e.rotateZ(.02*e.frameCount),e.rotateX(.02*e.frameCount),e.specularMaterial(250),e.translate(-n/10,0,0);for(var c=0;c<i.length;c++){var o=i[c],l=e.map(c,0,i.length-1,0,o*a)+n,u=a/2+o*n+a;e.push(),e.box(.07*l,.15*u,100),e.pop()}e.endShape()})),me=new P("Circle Waveform",(function(e,t){var n=window.innerWidth,a=window.innerHeight/2,i=Math.min(n,a);e.angleMode("degrees"),e.background(0,0,0,255),e.stroke(255,0,127),e.strokeWeight(.02*i),e.noFill(),e.translate(n/2.5,a/2);var r=t.getValue();e.beginShape();for(var s=0;s<=180;s++){var c=e.floor(e.map(s,0,180,0,r.length-1)),o=(u=e.map(r[c],-1,1,150,300))*e.sin(s),l=u*e.cos(s);e.vertex(o,l)}e.endShape(),e.beginShape();for(s=0;s<=180;s++){var u;c=e.floor(e.map(s,0,180,0,r.length-1)),o=(u=e.map(r[c],-1,1,150,300))*-e.sin(s),l=u*e.cos(s);e.vertex(o,l)}e.endShape()})),ve=new P("Elliptical Nebular Waveform",(function(e,t){var n=window.innerWidth,a=window.innerHeight/2;e.background(0,0,0,210),e.stroke(255,0,127),e.strokeWeight(3),e.noFill();var i=t.getValue();e.beginShape(),i.forEach((function(t,r){var s=i[r];e.ellipse(600,200,300+n*s,150+a*s),e.ellipse(600,200,150+a*s,300+n*s)})),e.endShape()})),je=new P("3D Waveform",(function(e,t){var n=window.innerWidth,a=window.innerHeight/2;e.background(250,250,250,255);var i=t.getValue();e.beginShape(),e.rotateY(.01*e.frameCount),e.rotateX(.01*e.frameCount);for(var r=0,s=0,c=0,o=0;o<i.length;o++){var l=i[o],u=e.map(o,0,i.length-1,0,n)-n/2,d=a/2+l*a-a/2;o%2===0?(e.translate(u-r,d-s,.1*o-c),c=.1*o):(e.translate(u-r,d-s,-.1*o-c),c=-.1*o),e.push(),e.sphere(8,6,4),e.pop(),r=u,s=d}e.endShape()})),he=Object(h.a)([ae,$,ce,ee,ue]),pe=Object(h.a)([de,me,ve,je,be]),fe=Object(h.b)({instruments:he,visualizers:pe});n(118);var ge=function(){var e=Object(a.useReducer)(f,fe),t=Object(u.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){!function(e,t){var n=Object(C.io)("ws://localhost:3001",D);n.on("connect",(function(){return e(n)})),n.on("disconnect",t)}(function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r,s,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(new p("SET_SOCKET",{socket:t})),e.next=3,G(t,"get_songs",{});case 3:return n=e.sent,a=n.songs,i(new p("SET_SONGS",{songs:a})),e.next=8,G(t,"get_albums",{});case 8:return r=e.sent,s=r.albums,i(new p("SET_ALBUMS",{albums:s})),e.next=13,G(t,"get_genres",{});case 13:c=e.sent,l=c.genres,i(new p("SET_GENRES",{genres:l}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(){i(new p("DELETE_SOCKET"))}))}),[]),Object(g.jsx)(d.a,{children:Object(g.jsxs)(b.c,{children:[Object(g.jsx)(b.a,{path:"/",children:Object(g.jsx)(Q,{state:n,dispatch:i})}),Object(g.jsx)(b.a,{path:"/:instrument",children:Object(g.jsx)(Q,{state:n,dispatch:i})}),Object(g.jsx)(b.a,{path:"*",children:Object(g.jsx)("div",{children:"404"})})]})})};n(119),n(120);var Oe=document.getElementById("root");s.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(ge,{})}),Oe,(function(){console.log("React has loaded.")}))},28:function(e,t,n){e.exports={xylophone:"Xylo_xylophone__C762a",page:"Xylo_page__1OWjH",playbutton:"Xylo_playbutton__23eac",circle:"Xylo_circle__25cIg"}},29:function(e,t,n){e.exports={kalimba:"Kalimba_kalimba__3-X55",page:"Kalimba_page__30zHe",playbutton:"Kalimba_playbutton__uKuwZ"}}},[[121,1,2]]]);
//# sourceMappingURL=main.37270fc9.chunk.js.map